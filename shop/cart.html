<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- BRAND-FOCUSED TITLE: Targets your exact search terms -->
    <title>Shopping Cart | OHSHOCL | Organic Hypo Solutions | Utah Organic Sanitization Products</title>
    
    <!-- CLEAN META DESCRIPTION: Natural brand messaging -->
    <meta name="description" content="Complete your order of premium USDA Certified Organic and EPA registered hypochlorous acid products. Professional disinfectant supplies and organic cleaning solutions from Utah's trusted sanitization company.">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --ohs-primary-blue: #2E5EAA;
            --ohs-accent-blue: #7DD3FC;
            --ohs-organic-green: #4ADE80;
            --ohs-dark-green: #22C55E;
            --ohs-premium-gold: #f59e0b;
            --ohs-light-gray: #f8f9fa;
            --ohs-dark-gray: #6c757d;
        }

        /* NAVBAR STYLING */
        .navbar {
            background-color: #2E5EAA !important;
            padding: 0.3rem 0 !important;
            box-shadow: none !important;
            min-height: 80px !important;
        }

        .navbar-brand {
            color: white !important;
            font-size: 1.5rem !important;
            font-weight: bold !important;
        }

        .navbar-nav .nav-link {
            color: white !important;
            font-weight: 500 !important;
            padding: 0.5rem 1rem !important;
            transition: all 0.2s ease !important;
        }

        .navbar-nav .nav-link:hover {
            color: #7DD3FC !important;
            background-color: rgba(255, 255, 255, 0.1) !important;
        }

        .navbar-nav .nav-link.active,
        .navbar-nav .nav-link.fw-semibold {
            color: #7DD3FC !important;
            background-color: rgba(255, 255, 255, 0.15) !important;
        }

        /* Override Bootstrap navbar defaults */
        .navbar-light .navbar-nav .nav-link {
            color: white !important;
        }

        .navbar-light .navbar-nav .nav-link:hover,
        .navbar-light .navbar-nav .nav-link:focus {
            color: #7DD3FC !important;
        }

        .navbar-light .navbar-brand {
            color: white !important;
        }

        .navbar-light .navbar-brand:hover,
        .navbar-light .navbar-brand:focus {
            color: white !important;
        }

        /* Dropdown Styling */
        .dropdown-menu {
            background-color: white !important;
            border: none !important;
            border-radius: 8px !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
            padding: 0.5rem 0 !important;
            margin-top: 0.25rem !important;
        }

        .dropdown-item {
            color: #2E5EAA !important;
            padding: 0.5rem 1rem !important;
            border-radius: 0 !important;
            transition: all 0.2s ease !important;
        }

        .dropdown-item:hover,
        .dropdown-item:focus {
            background-color: #f8f9fa !important;
            color: #2E5EAA !important;
        }

        .dropdown-item i {
            width: 16px !important;
            margin-right: 8px !important;
        }

        .badge {
            font-size: 0.7rem !important;
            font-weight: normal !important;
        }

        /* Navbar toggler for mobile */
        .navbar-toggler {
            border-color: rgba(255, 255, 255, 0.3) !important;
        }

        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
        }

        /* Mobile responsiveness */
        @media (max-width: 991.98px) {
            .navbar-nav .nav-link {
                padding: 0.5rem 0.75rem !important;
            }
        }

        /* CART STYLING */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--ohs-light-gray);
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--ohs-primary-blue) 0%, var(--ohs-accent-blue) 100%);
            color: white;
            padding: 40px 0;
        }

        .cert-badge {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Cart Container */
        .cart-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-top: -3rem;
            position: relative;
            z-index: 10;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Cart Items */
        .cart-item {
            border-bottom: 2px solid #f1f5f9;
            padding: 1.5rem;
            transition: all 0.3s ease;
            background: white !important;
            border-radius: 12px;
            margin-bottom: 1rem;
            border: 1px solid #e2e8f0;
        }

        .cart-item:hover {
            background: linear-gradient(135deg, #f8fafc, #f1f5f9) !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .product-image {
            width: 90px;
            height: 90px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border: 3px solid white;
        }

        .product-image.organic {
            background: linear-gradient(135deg, #22c55e, #16a34a);
        }

        .product-image.premium {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        /* Quantity Controls */
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            background: #f8fafc;
            padding: 0.8rem;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            justify-content: center;
        }

        .quantity-btn {
            width: 40px;
            height: 40px;
            border: 2px solid var(--ohs-organic-green);
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--ohs-organic-green);
            font-weight: bold;
        }

        .quantity-btn:hover:not(:disabled) {
            background: var(--ohs-organic-green);
            color: white;
            transform: scale(1.05);
        }

        .quantity-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            border-color: #ccc;
            color: #ccc;
        }

        .quantity-input {
            border: 2px solid var(--ohs-organic-green);
            background: white;
            border-radius: 8px;
            width: 60px;
            height: 40px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            color: var(--ohs-primary-blue);
            outline: none;
        }

        /* STICKY ORDER SUMMARY - FULL WIDTH AT BOTTOM */
        .sticky-order-summary {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--ohs-primary-blue) 0%, #1e3a8a 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 -8px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            border-top: 4px solid var(--ohs-organic-green);
            transition: transform 0.3s ease;
            display: none; /* Hidden by default, shown when cart has items */
        }

        .sticky-order-summary.visible {
            display: block;
        }

        .sticky-order-summary.hidden {
            transform: translateY(100%);
        }

        .sticky-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .order-info {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .order-stat {
            text-align: center;
        }

        .order-stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            display: block;
        }

        .order-stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .checkout-cta {
            background: linear-gradient(135deg, var(--ohs-organic-green), var(--ohs-dark-green));
            border: none;
            border-radius: 15px;
            padding: 0.75rem 2rem;
            box-shadow: 0 6px 20px rgba(74, 222, 128, 0.4);
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .checkout-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(74, 222, 128, 0.6);
            background: linear-gradient(135deg, var(--ohs-dark-green), #16a34a);
        }

        /* Pricing */
        .price-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--ohs-organic-green);
        }

        .wholesale-threshold-badge {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin: 0.25rem 0;
        }

        .wholesale-achieved-badge {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin: 0.25rem 0;
            animation: pulse-green 2s infinite;
        }

        /* Conversion Optimization Enhancements */
        .trust-signals {
            background: linear-gradient(135deg, #f8fafc, #ffffff);
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .trust-badge {
            background: white;
            border: 2px solid #22c55e;
            border-radius: 12px;
            padding: 0.75rem 1rem;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .trust-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.2);
        }

        .trust-badge i {
            font-size: 1.5rem;
            color: #22c55e;
            margin-bottom: 0.5rem;
        }

        .progress-indicator {
            background: #f1f5f9;
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
            border-left: 4px solid #3b82f6;
        }

        .progress-bar-custom {
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #22c55e, #16a34a);
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .urgency-banner {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            font-weight: bold;
            text-align: center;
            animation: pulse-gold 3s infinite;
        }

        @keyframes pulse-gold {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .social-proof {
            background: rgba(34, 197, 94, 0.05);
            border: 1px solid #22c55e;
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .customer-service-float {
            position: fixed;
            bottom: 140px;
            right: 20px;
            z-index: 999;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 1rem 1.5rem;
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .customer-service-float:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.6);
            background: linear-gradient(135deg, #1d4ed8, #1e40af);
        }

        .savings-highlight {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin: 0.5rem 0;
            font-size: 0.9rem;
            animation: savings-glow 2s infinite;
        }

        @keyframes savings-glow {
            0%, 100% { box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3); }
            50% { box-shadow: 0 4px 15px rgba(34, 197, 94, 0.6); }
        }

        .inventory-status {
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 8px;
            font-weight: bold;
        }

        .inventory-low {
            background: #fef3c7;
            color: #92400e;
        }

        .inventory-good {
            background: #dcfce7;
            color: #166534;
        }

        /* Add bottom padding to body when sticky summary is shown */
        body.sticky-summary-active {
            padding-bottom: 120px;
        }

        /* Empty Cart */
        .empty-cart {
            text-align: center;
            padding: 4rem 2rem;
            color: #64748b;
            background: linear-gradient(135deg, #f8fafc, #ffffff);
            border-radius: 15px;
            margin: 2rem 0;
        }

        .empty-cart i {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        /* Badge styles */
        .badge-organic {
            background: linear-gradient(135deg, var(--ohs-organic-green), var(--ohs-dark-green));
            color: white;
        }

        .badge-premium {
            background: linear-gradient(135deg, var(--ohs-premium-gold), #d97706);
            color: white;
        }

        .construction-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .hero-section {
                padding: 2rem 0;
            }
            
            .cart-container {
                margin: 0 1rem;
                margin-top: -1rem;
            }

            .sticky-content {
                flex-direction: column;
                gap: 1rem;
                padding: 0.5rem 1rem;
            }

            .order-info {
                gap: 1rem;
                justify-content: center;
            }

            .checkout-cta {
                padding: 0.5rem 1rem;
                width: 100%;
            }

            .customer-service-float {
                bottom: 160px;
                right: 15px;
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            body.sticky-summary-active {
                padding-bottom: 140px;
            }

            .trust-badge {
                padding: 0.5rem;
            }

            .trust-badge i {
                font-size: 1.2rem;
            }

            .progress-indicator {
                padding: 0.75rem;
            }

            .urgency-banner {
                padding: 0.5rem;
                font-size: 0.9rem;
            }
        }

        /* Footer */
        .footer-section {
            background: #000000;
            color: white;
            padding: 3rem 0 2rem 0;
            margin-top: 3rem;
            width: 100%;
        }

        .footer-section h5, 
        .footer-section h6 {
            color: white;
            margin-bottom: 1rem;
        }

        .footer-section .text-white-50 {
            color: rgba(255, 255, 255, 0.75) !important;
            transition: color 0.2s ease;
        }

        .footer-section .text-white-50:hover {
            color: white !important;
        }

        .footer-cert {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-block;
            margin: 0.125rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .footer-section hr {
            border-color: rgba(255, 255, 255, 0.2) !important;
        }
    </style>
</head>
<body>
    <!-- Navigation - Updated to Match Index Page Structure -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="../index.html">
                <svg width="32" height="32" viewBox="0 0 400 250" class="me-2">
                    <rect width="400" height="250" fill="#2E5EAA"/>
                    <text x="200" y="180" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="100" font-weight="bold">OHS</text>
                    <text x="200" y="210" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="20">Organic HypoSolutions</text>
                    <path d="M 320 80 Q 340 60 360 80 Q 340 100 320 80" fill="#4ADE80"/>
                    <path d="M 330 70 Q 350 50 370 70 Q 350 90 330 70" fill="#22C55E"/>
                </svg>
                Organic HypoSolutions
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../services.html">
                            <i class="fas fa-spray-can me-1"></i>Services
                        </a>
                    </li>
                    <!-- DIRECT PRODUCTS LINK - NO DROPDOWN -->
                    <li class="nav-item">
                        <a class="nav-link" href="../products.html">
                            <i class="fas fa-shopping-bag me-1"></i>Products
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../calculator.html">
                            <i class="fas fa-calculator me-1"></i>Calculator
                        </a>
                    </li>
                    <!-- ABOUT DROPDOWN - MATCHING INDEX PAGE -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="../about.html" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-info-circle me-1"></i>About
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="../about.html">
                                <i class="fas fa-info-circle me-2"></i>About Us
                            </a></li>
                            <li><a class="dropdown-item" href="../science-certifications.html">
                                <i class="fas fa-microscope me-2"></i>Science & Certifications
                            </a></li>
                            <li><a class="dropdown-item" href="../contact.html">
                                <i class="fas fa-phone me-2"></i>Contact
                            </a></li>
                            <li><a class="dropdown-item" href="../legal-information.html">
                                <i class="fas fa-gavel me-2"></i>Legal Information
                            </a></li>
                        </ul>
                    </li>
                    
                    <!-- SHOP DROPDOWN - MATCHING INDEX PAGE -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle fw-semibold" href="#" id="shopDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-shopping-cart me-1"></i>Shop
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item active" href="cart.html">
                                <i class="fas fa-shopping-cart me-2"></i>View Cart 
                                <span id="cartBadge" class="badge bg-danger ms-1" style="display: none;">0</span>
                            </a></li>
                            <li><a class="dropdown-item" href="checkout.html">
                                <i class="fas fa-credit-card me-2"></i>Checkout
                                <span class="construction-badge ms-1">Under Construction</span>
                            </a></li>
                            <li><a class="dropdown-item" href="book-service.html">
                                <i class="fas fa-calendar-plus me-2"></i>Book Service
                            </a></li>
                        </ul>
                    </li>
                    
                    <!-- ACCOUNT DROPDOWN - MATCHING INDEX PAGE -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="accountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-user me-1"></i>Account
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="../account/profile.html">
                                <i class="fas fa-building me-2"></i>Business Pricing
                                <span class="construction-badge ms-1">Under Construction</span>
                            </a></li>
                            <li><a class="dropdown-item" href="../account/orders.html">
                                <i class="fas fa-user-circle me-2"></i>Consumer Pricing
                                <span class="construction-badge ms-1">Under Construction</span>
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="../auth/login.html">
                                <i class="fas fa-sign-in-alt me-2"></i>Login
                                <span class="construction-badge ms-1">Under Construction</span>
                            </a></li>
                            <li><a class="dropdown-item" href="../auth/register.html">
                                <i class="fas fa-user-plus me-2"></i>Register
                                <span class="construction-badge ms-1">Under Construction</span>
                            </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-5 fw-bold mb-3">Shopping Cart</h1>
                    <p class="lead mb-4">
                        Review your premium hypochlorous acid products before checkout. 
                        Professional-grade disinfectants with Utah's fastest delivery.
                    </p>
                    <div class="d-flex flex-wrap gap-2">
                        <span class="cert-badge">
                            <i class="fas fa-leaf me-1"></i> USDA Certified Organic
                        </span>
                        <span class="cert-badge">
                            <i class="fas fa-shield-alt me-1"></i> EPA Registered
                        </span>
                        <span class="cert-badge">
                            <i class="fas fa-shipping-fast me-1"></i> 2-4 Day Delivery
                        </span>
                        <span class="cert-badge">
                            <i class="fas fa-box-open me-1"></i> Wholesale Pricing
                        </span>
                    </div>
                </div>
                <div class="col-lg-4 text-end">
                    <div class="hero-stats">
                        <div class="mb-3">
                            <h3 class="mb-1" id="heroCartTotal">$0.00</h3>
                            <small class="text-light">Cart Total</small>
                        </div>
                        <div class="mb-3">
                            <h4 class="mb-1" id="heroItemCount">0</h4>
                            <small class="text-light">Items</small>
                        </div>
                        <div class="d-flex gap-2 justify-content-end">
                            <a href="../products.html" class="btn btn-outline-light btn-sm">
                                <i class="fas fa-arrow-left me-1"></i> Continue Shopping
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content - SINGLE COLUMN LAYOUT -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="cart-container p-4">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h3 class="mb-0">
                            <i class="fas fa-shopping-cart me-2 text-primary"></i>Shopping Cart
                        </h3>
                        <div class="d-flex gap-3 align-items-center">
                            <small class="text-muted" id="itemCount">0 items</small>
                            <button class="btn btn-outline-danger btn-sm" onclick="clearAllItems()">
                                <i class="fas fa-trash me-1"></i>Clear All
                            </button>
                        </div>
                    </div>

                    <!-- Cart Items Container -->
                    <div id="cartItems">
                        <!-- Items will be dynamically inserted here -->
                    </div>

                    <!-- Trust Signals Section -->
                    <div id="trustSignals" class="trust-signals" style="display: none;">
                        <div class="row text-center">
                            <div class="col-md-3 col-6 mb-3">
                                <div class="trust-badge">
                                    <i class="fas fa-shield-check"></i>
                                    <div class="fw-bold">100% Secure</div>
                                    <small class="text-muted">256-bit SSL</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="trust-badge">
                                    <i class="fas fa-undo"></i>
                                    <div class="fw-bold">30-Day Returns</div>
                                    <small class="text-muted">No questions asked</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="trust-badge">
                                    <i class="fas fa-shipping-fast"></i>
                                    <div class="fw-bold">Fast Shipping</div>
                                    <small class="text-muted">2-4 business days</small>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="trust-badge">
                                    <i class="fas fa-phone-alt"></i>
                                    <div class="fw-bold">Utah Support</div>
                                    <small class="text-muted">(801) 712-5663</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Social Proof Section -->
                    <div id="socialProof" class="social-proof" style="display: none;">
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <div class="d-flex align-items-center">
                                    <div class="me-3">
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                    </div>
                                    <div>
                                        <strong>"Excellent products and fast delivery!"</strong>
                                        <div class="small text-muted">- Sarah M., Salt Lake City</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 text-end">
                                <small class="text-success">
                                    <i class="fas fa-users me-1"></i>
                                    <strong>2,400+</strong> Happy Customers
                                </small>
                            </div>
                        </div>
                    </div>

                    <!-- Empty Cart Message -->
                    <div id="emptyCart" class="empty-cart">
                        <i class="fas fa-shopping-cart text-muted"></i>
                        <h4 class="mt-3 mb-3">Your cart is empty</h4>
                        <p class="text-muted mb-4">Browse our USDA Certified Organic and EPA registered products!</p>
                        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                            <a href="../products.html" class="btn btn-primary btn-lg">
                                <i class="fas fa-shopping-bag me-2"></i>Browse Products
                            </a>
                            <a href="../services.html" class="btn btn-outline-primary btn-lg">
                                <i class="fas fa-spray-can me-2"></i>View Services
                            </a>
                        </div>
                    </div>

                    <!-- Product Recommendations -->
                    <div id="recommendations" style="display: none;" class="mt-4">
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">
                                    <i class="fas fa-lightbulb me-2 text-warning"></i>You might also like
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="d-flex align-items-center">
                                            <div class="product-image organic me-3" style="width: 60px; height: 60px; font-size: 1.5rem;">
                                                🧴
                                            </div>
                                            <div class="flex-grow-1">
                                                <h6 class="mb-1">32oz Organic Ready-to-Use Cleaner</h6>
                                                <p class="small text-muted mb-1">Perfect for daily cleaning</p>
                                                <div class="price-display">$21.80</div>
                                                <button class="btn btn-sm btn-success mt-2" onclick="addRecommendationToCart('rec1')">
                                                    <i class="fas fa-cart-plus me-1"></i>Add to Cart
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="d-flex align-items-center">
                                            <div class="product-image premium me-3" style="width: 60px; height: 60px; font-size: 1.5rem;">
                                                🧻
                                            </div>
                                            <div class="flex-grow-1">
                                                <h6 class="mb-1">All-in-one Wipes</h6>
                                                <p class="small text-muted mb-1">EPA registered for commercial use</p>
                                                <div class="price-display">$26.21</div>
                                                <button class="btn btn-sm btn-success mt-2" onclick="addRecommendationToCart('rec2')">
                                                    <i class="fas fa-cart-plus me-1"></i>Add to Cart
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3 p-3 rounded" style="background: rgba(74, 222, 128, 0.1); border: 1px solid #22c55e;">
                                    <small class="text-success">
                                        <i class="fas fa-info-circle me-1"></i>
                                        <strong>Wholesale Tip:</strong> Many products offer wholesale pricing at specific quantity thresholds!
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- STICKY ORDER SUMMARY - ENHANCED FOR CONVERSION -->
    <div id="stickyOrderSummary" class="sticky-order-summary">
        <div class="sticky-content">
            <div class="order-info">
                <div class="order-stat">
                    <span class="order-stat-value" id="stickyItemCount">0</span>
                    <span class="order-stat-label">Items</span>
                </div>
                <div class="order-stat">
                    <span class="order-stat-value" id="stickySubtotal">$0.00</span>
                    <span class="order-stat-label">Subtotal</span>
                </div>
                <div class="order-stat" id="stickyWholesaleSavings" style="display: none;">
                    <span class="order-stat-value text-success" id="stickyWholesaleAmount">$0.00</span>
                    <span class="order-stat-label">Wholesale Savings</span>
                </div>
                <div class="order-stat">
                    <span class="order-stat-value" id="stickyTotal">$0.00</span>
                    <span class="order-stat-label">Total</span>
                </div>
                <div class="order-stat">
                    <span class="order-stat-value text-warning">
                        <i class="fas fa-shipping-fast"></i>
                    </span>
                    <span class="order-stat-label">Free Shipping</span>
                </div>
            </div>
            <div class="checkout-actions">
                <button class="btn checkout-cta" onclick="proceedToCheckout()">
                    <i class="fas fa-lock me-2"></i>Secure Checkout
                </button>
                <div class="text-center mt-2">
                    <small class="text-light">
                        <i class="fas fa-shield-alt me-1"></i>256-bit SSL • 30-day returns
                    </small>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Customer Service Button -->
    <button class="customer-service-float" onclick="contactSupport()">
        <i class="fas fa-headset me-2"></i>Need Help?
    </button>

    <!-- Footer - RESTORED TO MATCH INDEX.HTML -->
    <footer class="footer-section">
        <div class="container-fluid px-4">
            <div class="row">
                <div class="col-md-3 mb-4">
                    <div class="d-flex align-items-center mb-3">
                        <svg width="40" height="40" viewBox="0 0 400 250" class="me-2">
                            <rect width="400" height="250" fill="#2E5EAA"/>
                            <text x="200" y="180" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="100" font-weight="bold">OHS</text>
                            <text x="200" y="210" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="20">Organic HypoSolutions</text>
                            <path d="M 320 80 Q 340 60 360 80 Q 340 100 320 80" fill="#4ADE80"/>
                            <path d="M 330 70 Q 350 50 370 70 Q 350 90 330 70" fill="#22C55E"/>
                        </svg>
                        <h5 class="mb-0">Organic HypoSolutions</h5>
                    </div>
                    <p>Utah's dual-certified HOCl distributor for families and businesses.</p>
                </div>
                
                <div class="col-md-2 mb-4">
                    <h6 class="fw-bold mb-3">Products</h6>
                    <ul class="list-unstyled">
                        <li><a href="../products.html" class="text-white-50 text-decoration-none">USDA Organic (19)</a></li>
                        <li><a href="../products.html" class="text-white-50 text-decoration-none">EPA Premium (38)</a></li>
                        <li><a href="../products.html" class="text-white-50 text-decoration-none">Bulk Solutions</a></li>
                        <li><a href="../products.html" class="text-white-50 text-decoration-none">All Products</a></li>
                    </ul>
                </div>
                
                <div class="col-md-2 mb-4">
                    <h6 class="fw-bold mb-3">Certified</h6>
                    <ul class="list-unstyled">
                        <li><span class="footer-cert">USDA Organic</span></li>
                        <li><span class="footer-cert">EPA Registered</span></li>
                        <li><span class="footer-cert">FDA Food Safe</span></li>
                    </ul>
                </div>
                
                <div class="col-md-2 mb-4">
                    <h6 class="fw-bold mb-3">Support</h6>
                    <ul class="list-unstyled">
                        <li><a href="../science-certifications.html" class="text-white-50 text-decoration-none">Science</a></li>
                        <li><a href="../calculator.html" class="text-white-50 text-decoration-none">Calculator</a></li>
                        <li><a href="../about.html" class="text-white-50 text-decoration-none">About</a></li>
                        <li><a href="../contact.html" class="text-white-50 text-decoration-none">Contact</a></li>
                    </ul>
                </div>
                
                <div class="col-md-2 mb-4">
                    <h6 class="fw-bold mb-3">Follow Us</h6>
                    <div class="d-flex flex-column gap-2">
                        <a href="https://instagram.com/organichyposolutions" target="_blank" class="text-white-50 text-decoration-none d-flex align-items-center">
                            <i class="fab fa-instagram me-2"></i>Instagram
                        </a>
                        <a href="https://facebook.com/organichyposolutions" target="_blank" class="text-white-50 text-decoration-none d-flex align-items-center">
                            <i class="fab fa-facebook me-2"></i>Facebook
                        </a>
                        <a href="https://linkedin.com/company/organichyposolutions" target="_blank" class="text-white-50 text-decoration-none d-flex align-items-center">
                            <i class="fab fa-linkedin me-2"></i>LinkedIn
                        </a>
                    </div>
                </div>
                
                <div class="col-md-3 mb-4">
                    <h6 class="fw-bold mb-3">Contact</h6>
                    <p class="mb-2">
                        <i class="fas fa-phone me-2"></i>
                        <a href="tel:+18017125663" class="text-white text-decoration-none">(801) 712-5663</a>
                    </p>
                    <p class="mb-2">
                        <i class="fas fa-envelope me-2"></i>
                        <a href="mailto:ohshocl@gmail.com" class="text-white text-decoration-none">ohshocl@gmail.com</a>
                    </p>
                    <p class="mb-3">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        Salt Lake City, UT, USA
                    </p>
                </div>
            </div>
            
            <hr class="my-4 border-white-50">
            
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2025 Organic HypoSolutions. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <span class="footer-cert me-1">57 Products</span>
                    <span class="footer-cert me-1">Locally Manufactured</span>
                    <span class="footer-cert">Family Owned</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Cart System Variables
        let cartItems = [];
        let isCartSystemReady = false;
        
        // Product catalog for wholesale pricing
        const PRODUCT_CATALOG = {
            'ohs-32oz-organic-cleaner': {
                price: 21.80,
                pricing: { retail: 21.80, wholesale: 15.26 },
                wholesaleThreshold: 500
            },
            'hc-32oz-cleaner-rtu': {
                price: 23.82,
                pricing: { retail: 23.82, wholesale: 16.67 },
                wholesaleThreshold: 25
            },
            'ohs-3oz-disinfectant': {
                price: 12.97,
                pricing: { retail: 12.97, wholesale: 9.08 },
                wholesaleThreshold: 1000
            },
            'hc-all-in-one-wipes': {
                price: 26.21,
                pricing: { retail: 26.21, wholesale: 18.35 },
                wholesaleThreshold: 50
            }
        };
        
        function loadCart() {
            try {
                const stored = localStorage.getItem('ohsCart');
                if (stored) {
                    cartItems = JSON.parse(stored);
                    cartItems = cartItems.map(item => ({
                        productId: item.productId || item.id || `item_${Date.now()}`,
                        name: item.name || 'Unknown Product',
                        price: parseFloat(item.price) || 0,
                        quantity: parseInt(item.quantity) || 1,
                        type: item.type || item.productLine || 'organic',
                        description: item.description || 'Professional hypochlorous acid product',
                        emoji: item.emoji || (item.type === 'premium' ? '👑' : '🌱'),
                        sku: item.sku || '',
                        ...item
                    }));
                } else {
                    cartItems = [];
                }
                
                // Add test items if cart is empty and test mode is on
                if (cartItems.length === 0 && window.location.search.includes('test=true')) {
                    addTestItems();
                }
                
                console.log('✅ Cart loaded:', cartItems.length, 'items');
            } catch (error) {
                console.error('❌ Error loading cart:', error);
                cartItems = [];
            }
            updateDisplay();
            isCartSystemReady = true;
        }
        
        function addTestItems() {
            cartItems = [
                {
                    productId: 'ohs-32oz-organic-cleaner',
                    name: '32oz Organic Ready-to-Use Cleaner',
                    price: 21.80,
                    quantity: 600,
                    type: 'organic',
                    description: 'USDA Certified Organic hypochlorous acid cleaner',
                    emoji: '🧴',
                    sku: 'OHS-32OZ-CLEANER-RTU'
                },
                {
                    productId: 'hc-32oz-cleaner-rtu',
                    name: '32oz Multi Use Cleaner Ready to Use - Premium',
                    price: 23.82,
                    quantity: 20,
                    type: 'premium',
                    description: 'Premium hypochlorous acid with advanced packaging',
                    emoji: '👑',
                    sku: 'HC-32OZ-CLEANER-RTU'
                },
                {
                    productId: 'ohs-3oz-disinfectant',
                    name: '3oz Organic Multi-Surface Disinfectant',
                    price: 12.97,
                    quantity: 1200,
                    type: 'organic',
                    description: 'Travel-size USDA Certified Organic disinfectant',
                    emoji: '✨',
                    sku: 'OHS-3OZ-ORGANIC'
                }
            ];
            saveCart();
        }
        
        function saveCart() {
            try {
                localStorage.setItem('ohsCart', JSON.stringify(cartItems));
                console.log('💾 Cart saved successfully');
            } catch (error) {
                console.error('❌ Error saving cart:', error);
            }
        }
        
        function calculateWholesaleRate(productId, quantity) {
            const product = PRODUCT_CATALOG[productId];
            if (!product) {
                return { price: 0, isWholesale: false, threshold: 6 };
            }
            
            const pricing = product.pricing || {};
            const retail = pricing.retail || product.price || 0;
            const wholesale = pricing.wholesale || (retail * 0.7);
            const threshold = product.wholesaleThreshold || 6;
            
            const isWholesale = quantity >= threshold;
            const price = isWholesale ? wholesale : retail;
            
            return {
                price: price,
                isWholesale: isWholesale,
                threshold: threshold,
                savings: isWholesale ? (retail - wholesale) : 0,
                savingsPercent: isWholesale ? Math.round((1 - wholesale/retail) * 100) : 0
            };
        }
        
        function updateDisplay() {
            updateCartItems();
            updateStickyOrderSummary();
            updateCartBadge();
            updateItemCount();
            updateRecommendations();
            updateHeroStats();
            updateStickyVisibility();
        }
        
        function updateCartItems() {
            const container = document.getElementById('cartItems');
            const emptyCart = document.getElementById('emptyCart');
            const trustSignals = document.getElementById('trustSignals');
            const socialProof = document.getElementById('socialProof');
            
            if (!container || !emptyCart) return;
            
            if (cartItems.length === 0) {
                container.style.display = 'none';
                emptyCart.style.display = 'block';
                if (trustSignals) trustSignals.style.display = 'none';
                if (socialProof) socialProof.style.display = 'none';
                return;
            }
            
            container.style.display = 'block';
            emptyCart.style.display = 'none';
            if (trustSignals) trustSignals.style.display = 'block';
            if (socialProof) socialProof.style.display = 'block';
            
            let html = '';
            cartItems.forEach((item, index) => {
                const isOrganic = item.type === 'organic';
                const wholesaleInfo = calculateWholesaleRate(item.productId, item.quantity);
                const displayPrice = wholesaleInfo.price;
                const itemTotal = displayPrice * item.quantity;
                
                // Calculate progress to wholesale threshold
                const progressPercent = wholesaleInfo.threshold ? Math.min(100, (item.quantity / wholesaleInfo.threshold) * 100) : 100;
                const remainingForWholesale = wholesaleInfo.threshold ? Math.max(0, wholesaleInfo.threshold - item.quantity) : 0;
                
                // Simulate inventory levels for urgency
                const inventoryLevel = Math.floor(Math.random() * 100) + 50; // 50-150 units
                const isLowStock = inventoryLevel < 75;
                
                html += `
                    <div class="cart-item" data-index="${index}">
                        <div class="row align-items-center">
                            <div class="col-md-2 col-3 mb-3 mb-md-0">
                                <div class="product-image ${isOrganic ? 'organic' : 'premium'}">
                                    ${item.emoji || (isOrganic ? '🌱' : '👑')}
                                </div>
                            </div>
                            <div class="col-md-4 col-9 mb-3 mb-md-0">
                                <h6 class="fw-bold mb-2">${item.name}</h6>
                                <p class="text-muted small mb-2">${item.description}</p>
                                <div class="mb-2">
                                    <span class="badge ${isOrganic ? 'badge-organic' : 'badge-premium'}">
                                        ${isOrganic ? 'USDA Organic' : 'EPA Premium'}
                                    </span>
                                    ${item.sku ? `<span class="badge bg-info ms-1">${item.sku}</span>` : ''}
                                    <span class="inventory-status ${isLowStock ? 'inventory-low' : 'inventory-good'} ms-1">
                                        <i class="fas fa-box me-1"></i>${inventoryLevel} in stock
                                    </span>
                                </div>
                                
                                ${wholesaleInfo.isWholesale ? `
                                    <div class="savings-highlight">
                                        <i class="fas fa-piggy-bank me-1"></i>
                                        WHOLESALE PRICING! Save ${wholesaleInfo.savingsPercent}% 
                                        (${(wholesaleInfo.savings * item.quantity).toFixed(2)} total savings)
                                    </div>
                                ` : wholesaleInfo.threshold && remainingForWholesale > 0 ? `
                                    <div class="progress-indicator">
                                        <div class="d-flex justify-content-between align-items-center mb-1">
                                            <small><strong>Wholesale Progress</strong></small>
                                            <small class="text-primary">${remainingForWholesale} more needed</small>
                                        </div>
                                        <div class="progress-bar-custom">
                                            <div class="progress-fill" style="width: ${progressPercent}%"></div>
                                        </div>
                                        <small class="text-muted">
                                            Add ${remainingForWholesale} more to save ${wholesaleInfo.savingsPercent}% per item!
                                        </small>
                                    </div>
                                ` : ''}
                                
                                ${isLowStock ? `
                                    <div class="urgency-banner">
                                        <i class="fas fa-fire me-1"></i>
                                        Only ${inventoryLevel} left - Order soon!
                                    </div>
                                ` : ''}
                            </div>
                            <div class="col-md-2 col-12 mb-3 mb-md-0">
                                <div class="quantity-controls">
                                    <button class="quantity-btn" onclick="changeQuantity(${index}, -1)" 
                                            ${item.quantity <= 1 ? 'disabled' : ''}>
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" class="quantity-input" value="${item.quantity}" 
                                           min="1" max="999" 
                                           onchange="setQuantity(${index}, this.value)"
                                           onclick="this.select()">
                                    <button class="quantity-btn" onclick="changeQuantity(${index}, 1)">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                ${wholesaleInfo.threshold && !wholesaleInfo.isWholesale ? `
                                    <div class="text-center mt-2">
                                        <button class="btn btn-sm btn-outline-success" 
                                                onclick="quickAddToWholesale(${index})" 
                                                title="Quick add to reach wholesale pricing">
                                            <i class="fas fa-bolt me-1"></i>+${remainingForWholesale}
                                        </button>
                                    </div>
                                ` : ''}
                            </div>
                            <div class="col-md-2 col-6 text-center">
                                <div class="price-display">${displayPrice.toFixed(2)}</div>
                                <small class="text-muted">each</small>
                                ${wholesaleInfo.isWholesale && wholesaleInfo.savings > 0 ? `
                                    <div class="text-success small fw-bold">Save ${wholesaleInfo.savings.toFixed(2)}</div>
                                    <div class="text-muted small"><s>${(wholesaleInfo.price / (1 - wholesaleInfo.savingsPercent/100)).toFixed(2)}</s></div>
                                ` : ''}
                            </div>
                            <div class="col-md-2 col-6 text-center">
                                <div class="price-display mb-2">${itemTotal.toFixed(2)}</div>
                                <div class="d-flex gap-1 justify-content-center">
                                    <button class="btn btn-sm btn-outline-secondary" onclick="saveForLater(${index})" title="Save for later">
                                        <i class="fas fa-heart"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" onclick="removeItem(${index})" title="Remove item">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function updateStickyOrderSummary() {
            let subtotal = 0;
            let totalWholesaleSavings = 0;
            const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            
            cartItems.forEach(item => {
                const wholesaleInfo = calculateWholesaleRate(item.productId, item.quantity);
                const itemTotal = wholesaleInfo.price * item.quantity;
                subtotal += itemTotal;
                
                if (wholesaleInfo.isWholesale && wholesaleInfo.savings > 0) {
                    totalWholesaleSavings += (wholesaleInfo.savings * item.quantity);
                }
            });
            
            const tax = subtotal * 0.0775;
            const total = subtotal + tax;
            
            // Update sticky summary elements
            const stickyItemCount = document.getElementById('stickyItemCount');
            const stickySubtotal = document.getElementById('stickySubtotal');
            const stickyTotal = document.getElementById('stickyTotal');
            const stickyWholesaleSavings = document.getElementById('stickyWholesaleSavings');
            const stickyWholesaleAmount = document.getElementById('stickyWholesaleAmount');
            
            if (stickyItemCount) stickyItemCount.textContent = totalItems;
            if (stickySubtotal) stickySubtotal.textContent = '$' + subtotal.toFixed(2);
            if (stickyTotal) stickyTotal.textContent = '$' + total.toFixed(2);
            
            // Show/hide wholesale savings
            if (totalWholesaleSavings > 0) {
                if (stickyWholesaleSavings) stickyWholesaleSavings.style.display = 'block';
                if (stickyWholesaleAmount) stickyWholesaleAmount.textContent = '$' + totalWholesaleSavings.toFixed(2);
            } else {
                if (stickyWholesaleSavings) stickyWholesaleSavings.style.display = 'none';
            }
        }
        
        function updateStickyVisibility() {
            const stickyBar = document.getElementById('stickyOrderSummary');
            const customerService = document.querySelector('.customer-service-float');
            const body = document.body;
            
            if (cartItems.length > 0) {
                stickyBar.classList.add('visible');
                body.classList.add('sticky-summary-active');
                
                // Adjust customer service button position when sticky bar is visible
                if (customerService) {
                    customerService.style.bottom = '140px';
                }
            } else {
                stickyBar.classList.remove('visible');
                body.classList.remove('sticky-summary-active');
                
                // Reset customer service button position
                if (customerService) {
                    customerService.style.bottom = '20px';
                }
            }
        }
        
        function handleStickyScroll() {
            const stickyBar = document.getElementById('stickyOrderSummary');
            const footer = document.querySelector('.footer-section');
            
            if (!footer || cartItems.length === 0) return;
            
            const footerRect = footer.getBoundingClientRect();
            const windowHeight = window.innerHeight;
            const stickyHeight = stickyBar.offsetHeight;
            
            // Hide sticky bar when footer comes into view
            if (footerRect.top <= windowHeight - stickyHeight) {
                stickyBar.classList.add('hidden');
            } else {
                stickyBar.classList.remove('hidden');
            }
        }
        
        function updateCartBadge() {
            const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            const badge = document.getElementById('cartBadge');
            if (badge) {
                badge.style.display = totalItems > 0 ? 'inline-block' : 'none';
                badge.textContent = totalItems;
            }
        }
        
        function updateItemCount() {
            const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            const itemCount = document.getElementById('itemCount');
            if (itemCount) {
                itemCount.textContent = totalItems === 1 ? '1 item' : totalItems + ' items';
            }
        }
        
        function updateHeroStats() {
            const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            let subtotal = 0;
            
            cartItems.forEach(item => {
                const wholesaleInfo = calculateWholesaleRate(item.productId, item.quantity);
                subtotal += wholesaleInfo.price * item.quantity;
            });
            
            const heroTotal = document.getElementById('heroCartTotal');
            const heroCount = document.getElementById('heroItemCount');
            
            if (heroTotal) heroTotal.textContent = '$' + subtotal.toFixed(2);
            if (heroCount) heroCount.textContent = totalItems;
        }
        
        function updateRecommendations() {
            const recommendations = document.getElementById('recommendations');
            if (recommendations) {
                recommendations.style.display = cartItems.length > 0 ? 'block' : 'none';
            }
        }
        
        function changeQuantity(index, change) {
            if (!cartItems[index]) return;
            
            const newQuantity = cartItems[index].quantity + change;
            
            if (newQuantity <= 0) {
                if (confirm(`Remove "${cartItems[index].name}" from cart?`)) {
                    cartItems.splice(index, 1);
                }
            } else {
                cartItems[index].quantity = newQuantity;
                const wholesaleInfo = calculateWholesaleRate(cartItems[index].productId, newQuantity);
                cartItems[index].price = wholesaleInfo.price;
            }
            
            saveCart();
            updateDisplay();
        }
        
        function setQuantity(index, value) {
            if (!cartItems[index]) return;
            
            const newQuantity = Math.max(1, Math.min(999, parseInt(value) || 1));
            cartItems[index].quantity = newQuantity;
            
            const wholesaleInfo = calculateWholesaleRate(cartItems[index].productId, newQuantity);
            cartItems[index].price = wholesaleInfo.price;
            
            saveCart();
            updateDisplay();
        }
        
        function removeItem(index) {
            if (!cartItems[index]) return;
            
            if (confirm(`Remove "${cartItems[index].name}" from cart?`)) {
                cartItems.splice(index, 1);
                saveCart();
                updateDisplay();
            }
        }
        
        function clearAllItems() {
            if (cartItems.length === 0) {
                alert('Your cart is already empty!');
                return;
            }
            
            if (confirm(`Clear all ${cartItems.length} items from cart?`)) {
                cartItems = [];
                saveCart();
                updateDisplay();
            }
        }
        
        function proceedToCheckout() {
            if (cartItems.length === 0) {
                alert('Your cart is empty! Add some products first.');
                return;
            }
            
            const subtotal = cartItems.reduce((sum, item) => {
                const wholesaleInfo = calculateWholesaleRate(item.productId, item.quantity);
                return sum + (wholesaleInfo.price * item.quantity);
            }, 0);
            
            const checkoutData = {
                items: cartItems,
                subtotal: subtotal,
                timestamp: new Date().toISOString()
            };
            
            try {
                localStorage.setItem('ohsCheckout', JSON.stringify(checkoutData));
                window.location.href = 'checkout.html';
            } catch (error) {
                console.error('❌ Error saving checkout data:', error);
                alert('Error preparing checkout. Please try again.');
            }
        }
        
        function addRecommendationToCart(recId) {
            let productData;
            
            if (recId === 'rec1') {
                productData = {
                    productId: 'ohs-32oz-organic-cleaner',
                    name: '32oz Organic Ready-to-Use Cleaner',
                    price: 21.80,
                    quantity: 1,
                    type: 'organic',
                    description: 'Perfect for daily cleaning',
                    emoji: '🧴',
                    sku: 'OHS-32OZ-CLEANER-RTU'
                };
            } else if (recId === 'rec2') {
                productData = {
                    productId: 'hc-all-in-one-wipes',
                    name: 'All-in-one Wipes',
                    price: 26.21,
                    quantity: 1,
                    type: 'premium',
                    description: 'EPA registered for commercial use',
                    emoji: '🧻',
                    sku: 'HC-WIPES-ALLINONE'
                };
            }
            
            if (productData) {
                const existingIndex = cartItems.findIndex(item => item.productId === productData.productId);
                
                if (existingIndex >= 0) {
                    cartItems[existingIndex].quantity += 1;
                    const wholesaleInfo = calculateWholesaleRate(productData.productId, cartItems[existingIndex].quantity);
                    cartItems[existingIndex].price = wholesaleInfo.price;
                } else {
                    const wholesaleInfo = calculateWholesaleRate(productData.productId, 1);
                    productData.price = wholesaleInfo.price;
                    cartItems.push(productData);
                }
                
                saveCart();
                updateDisplay();
                showNotification('Added to cart!', 'success');
            }
        }

        // Conversion Optimization Functions
        function quickAddToWholesale(index) {
            if (!cartItems[index]) return;
            
            const item = cartItems[index];
            const wholesaleInfo = calculateWholesaleRate(item.productId, item.quantity);
            
            if (wholesaleInfo.threshold) {
                const neededQuantity = wholesaleInfo.threshold - item.quantity;
                if (neededQuantity > 0) {
                    const confirmed = confirm(
                        `Add ${neededQuantity} more "${item.name}" to reach wholesale pricing?\n\n` +
                        `This will save you ${wholesaleInfo.savingsPercent}% per item!`
                    );
                    
                    if (confirmed) {
                        cartItems[index].quantity = wholesaleInfo.threshold;
                        const newWholesaleInfo = calculateWholesaleRate(item.productId, wholesaleInfo.threshold);
                        cartItems[index].price = newWholesaleInfo.price;
                        
                        saveCart();
                        updateDisplay();
                        showNotification(`🎉 Wholesale pricing activated! You're now saving ${wholesaleInfo.savingsPercent}%!`, 'success');
                    }
                }
            }
        }

        function saveForLater(index) {
            if (!cartItems[index]) return;
            
            const item = cartItems[index];
            
            // Store in "saved for later" localStorage
            let savedItems = [];
            try {
                const stored = localStorage.getItem('ohsSavedItems');
                if (stored) {
                    savedItems = JSON.parse(stored);
                }
            } catch (error) {
                console.error('Error loading saved items:', error);
            }
            
            // Add to saved items if not already there
            const existingIndex = savedItems.findIndex(saved => saved.productId === item.productId);
            if (existingIndex >= 0) {
                savedItems[existingIndex].quantity += item.quantity;
            } else {
                savedItems.push({...item, savedDate: new Date().toISOString()});
            }
            
            try {
                localStorage.setItem('ohsSavedItems', JSON.stringify(savedItems));
                
                // Remove from cart
                cartItems.splice(index, 1);
                saveCart();
                updateDisplay();
                
                showNotification(`"${item.name}" saved for later! ❤️`, 'info');
            } catch (error) {
                console.error('Error saving item for later:', error);
                showNotification('Error saving item for later', 'error');
            }
        }

        function contactSupport() {
            const actions = [
                { text: 'Call (801) 712-5663', action: () => window.open('tel:+18017125663') },
                { text: 'Email Support', action: () => window.open('mailto:ohshocl@gmail.com?subject=Cart%20Help%20Needed') },
                { text: 'Live Chat', action: () => showNotification('Live chat coming soon! Please call or email for immediate help.', 'info') }
            ];
            
            const actionText = actions.map((item, i) => `${i + 1}. ${item.text}`).join('\n');
            const choice = prompt(`How would you like to get help?\n\n${actionText}\n\nEnter 1, 2, or 3:`);
            
            const choiceNum = parseInt(choice);
            if (choiceNum >= 1 && choiceNum <= 3) {
                actions[choiceNum - 1].action();
            }
        }

        function showNotification(message, type = 'info') {
            const colors = {
                success: { bg: 'linear-gradient(135deg, #22c55e, #16a34a)', text: 'white' },
                error: { bg: 'linear-gradient(135deg, #ef4444, #dc2626)', text: 'white' },
                info: { bg: 'linear-gradient(135deg, #3b82f6, #1d4ed8)', text: 'white' },
                warning: { bg: 'linear-gradient(135deg, #f59e0b, #d97706)', text: 'white' }
            };
            
            const color = colors[type] || colors.info;
            
            const notification = document.createElement('div');
            notification.className = 'position-fixed';
            notification.style.cssText = `
                top: 100px; right: 20px; z-index: 9999;
                background: ${color.bg}; color: ${color.text};
                padding: 15px 20px; border-radius: 10px;
                box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                font-weight: bold; transform: translateX(400px);
                transition: all 0.3s ease; max-width: 300px;
            `;
            notification.innerHTML = `
                <div class="d-flex align-items-start">
                    <div class="flex-grow-1">${message}</div>
                    <button onclick="this.parentElement.parentElement.remove()" 
                            style="background: none; border: none; color: ${color.text}; font-size: 1.2rem; padding: 0; margin-left: 10px; cursor: pointer;">×</button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => notification.style.transform = 'translateX(0)', 100);
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.style.transform = 'translateX(400px)';
                    setTimeout(() => {
                        if (notification.parentElement) {
                            document.body.removeChild(notification);
                        }
                    }, 300);
                }
            }, 5000);
        }
        
        // Initialization
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Cart system initializing...');
            loadCart();
            
            // Add scroll event listener for sticky bar
            window.addEventListener('scroll', handleStickyScroll);
            
            console.log('✅ Cart system ready!');
        });
        
        // Listen for storage changes
        window.addEventListener('storage', function(e) {
            if (e.key === 'ohsCart') {
                loadCart();
            }
        });
        
        // Global function exposure
        window.changeQuantity = changeQuantity;
        window.setQuantity = setQuantity;
        window.removeItem = removeItem;
        window.clearAllItems = clearAllItems;
        window.proceedToCheckout = proceedToCheckout;
        window.addRecommendationToCart = addRecommendationToCart;
        window.quickAddToWholesale = quickAddToWholesale;
        window.saveForLater = saveForLater;
        window.contactSupport = contactSupport;
    </script>
</body>
</html>
