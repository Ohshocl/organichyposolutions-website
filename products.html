<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Enhanced SEO Optimized Title & Meta -->
    <title>Professional HOCl Products - EPA Certified & USDA Organic | Organic HypoSolutions</title>
    <meta name="description" content="Complete catalog of EPA certified disinfectant products and USDA organic cleaning solutions. Professional hypochlorous acid products for commercial, healthcare, and family use. Utah manufactured with free shipping.">
    <meta name="keywords" content="EPA certified disinfectant products, USDA organic cleaning solutions, professional hypochlorous acid products, family safe organic cleaners, commercial disinfectant supplies, food contact safe sanitizers, pet safe organic products, healthcare cleaning products, industrial sanitization supplies, bulk disinfectant solutions">
    
    <!-- STANDARD SEO -->
    <meta name="author" content="OHSHOCL - Organic Hypo Solutions">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- CANONICAL URL -->
    <link rel="canonical" href="https://organichyposolutions.com/products.html">

    <!-- LOCATION TARGETING -->
    <meta name="geo.region" content="US-UT">
    <meta name="geo.placename" content="Utah">
    <meta name="geo.position" content="40.7608;-111.8910">
    <meta name="ICBM" content="40.7608, -111.8910">

    <!-- BUSINESS INFO -->
    <meta name="business.phone" content="+1-801-712-5663">
    <meta name="business.email" content="ohshocl@gmail.com">
    <meta name="business.hours" content="Mo-Fr 08:00-18:00, Sa 09:00-17:00">

    <!-- ENHANCED SOCIAL SHARING -->
    <meta property="og:title" content="Professional HOCl Products - EPA Certified & USDA Organic | Utah">
    <meta property="og:description" content="Complete catalog of EPA certified disinfectant products and USDA organic cleaning solutions. Professional hypochlorous acid products for commercial, healthcare, and family use.">
    <meta property="og:url" content="https://organichyposolutions.com/products.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://organichyposolutions.com/images/ohs-products-catalog-social.jpg">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Organic HypoSolutions">

    <!-- TWITTER CARDS -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Professional HOCl Products - EPA Certified & USDA Organic">
    <meta name="twitter:description" content="Complete catalog of EPA certified disinfectant products and USDA organic cleaning solutions. Professional hypochlorous acid products for commercial, healthcare, and family use.">
    <meta name="twitter:image" content="https://organichyposolutions.com/images/ohs-products-catalog-social.jpg">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HEKE217WEY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-HEKE217WEY');
    </script>
    
    <!-- Bootstrap 5.3.0 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-blue: #2E5EAA;
            --secondary-blue: #7DD3FC;
            --success-green: #22C55E;
            --accent-green: #4ADE80;
            --warning-gold: #D97706;
            --premium-gold: #f59e0b;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
        }

        /* EXACT NAVBAR STYLING FROM TEMPLATE */
        .navbar {
            background-color: #2E5EAA !important;
            padding: 0.3rem 0 !important;
            box-shadow: none !important;
            min-height: 80px !important;
        }

        .navbar-brand {
            color: white !important;
            font-size: 1.5rem !important;
            font-weight: bold !important;
            padding: 0.2rem 0 !important;
            display: flex !important;
            align-items: center !important;
        }

        .navbar-brand svg {
            width: 32px !important;
            height: 32px !important;
        }

        .navbar-nav .nav-link {
            color: white !important;
            font-weight: 500 !important;
            padding: 0.5rem 1rem !important;
            margin: 0 !important;
            border-radius: 0 !important;
            transition: all 0.2s ease !important;
            display: flex !important;
            align-items: center !important;
        }

        .navbar-nav .nav-link i {
            margin-right: 0.5rem !important;
            font-size: 0.9rem !important;
        }

        .navbar-nav .nav-link:hover {
            color: #7DD3FC !important;
            background-color: rgba(255, 255, 255, 0.1) !important;
        }

        .navbar-nav .nav-link.active,
        .navbar-nav .nav-link.fw-semibold {
            color: #7DD3FC !important;
            background-color: rgba(255, 255, 255, 0.15) !important;
        }

        /* Override Bootstrap navbar defaults */
        .navbar-light .navbar-nav .nav-link {
            color: white !important;
        }

        .navbar-light .navbar-nav .nav-link:hover,
        .navbar-light .navbar-nav .nav-link:focus {
            color: #7DD3FC !important;
        }

        .navbar-light .navbar-brand {
            color: white !important;
        }

        .navbar-light .navbar-brand:hover,
        .navbar-light .navbar-brand:focus {
            color: white !important;
        }

        /* Dropdown Styling */
        .dropdown-menu {
            background-color: white !important;
            border: none !important;
            border-radius: 8px !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
            padding: 0.5rem 0 !important;
            margin-top: 0.25rem !important;
        }

        .dropdown-item {
            color: #2E5EAA !important;
            padding: 0.5rem 1rem !important;
            border-radius: 0 !important;
            transition: all 0.2s ease !important;
        }

        .dropdown-item:hover,
        .dropdown-item:focus {
            background-color: #f8f9fa !important;
            color: #2E5EAA !important;
        }

        .dropdown-item i {
            width: 16px !important;
            margin-right: 8px !important;
        }

        .badge {
            font-size: 0.7rem !important;
            font-weight: normal !important;
        }

        /* Navbar toggler for mobile */
        .navbar-toggler {
            border-color: rgba(255, 255, 255, 0.3) !important;
        }

        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
        }

        /* Mobile responsiveness */
        @media (max-width: 991.98px) {
            .navbar-nav .nav-link {
                padding: 0.5rem 0.75rem !important;
            }
        }
    </style>
</head>
<body>
<!-- Navigation - Products Page Active -->
<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="index.html">
            <svg width="32" height="32" viewBox="0 0 400 250" class="me-2">
                <rect width="400" height="250" fill="#2E5EAA"/>
                <text x="200" y="180" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="100" font-weight="bold">OHS</text>
                <text x="200" y="210" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="20">Organic HypoSolutions</text>
                <path d="M 320 80 Q 340 60 360 80 Q 340 100 320 80" fill="#4ADE80"/>
                <path d="M 330 70 Q 350 50 370 70 Q 350 90 330 70" fill="#22C55E"/>
            </svg>
            Organic HypoSolutions
        </a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-center">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">
                        <i class="fas fa-home me-1"></i>Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="services.html">
                        <i class="fas fa-spray-can me-1"></i>Services
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle fw-semibold" href="products.html" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-shopping-bag me-1"></i>Products
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#organic-products">
                            <i class="fas fa-leaf me-2"></i>USDA Organic Line
                            <span class="badge bg-success ms-1">19 Products</span>
                        </a></li>
                        <li><a class="dropdown-item" href="#premium-products">
                            <i class="fas fa-crown me-2"></i>EPA Premium Line
                            <span class="badge bg-warning ms-1">38 Products</span>
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#bulk-products">
                            <i class="fas fa-boxes me-2"></i>Bulk Solutions
                            <span class="badge bg-info ms-1">Industrial</span>
                        </a></li>
                        <li><a class="dropdown-item" href="#bundle-products">
                            <i class="fas fa-gift me-2"></i>Bundle Deals
                            <span class="badge bg-secondary ms-1">Save More</span>
                        </a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="calculator.html">
                        <i class="fas fa-calculator me-1"></i>Calculator
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="about.html">
                        <i class="fas fa-info-circle me-1"></i>About
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="science-certifications.html">
                        <i class="fas fa-microscope me-1"></i>Science & Certifications
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="legal-information.html">
                        <i class="fas fa-gavel me-1"></i>Legal Information
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contact.html">
                        <i class="fas fa-phone me-1"></i>Contact
                    </a>
                </li>
                
                <!-- Customer Shopping & Account -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="shopDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-shopping-bag me-1"></i>Shop
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="products.html">
                            <i class="fas fa-boxes me-2"></i>All Products
                            <span class="badge bg-primary ms-1">57 Available</span>
                        </a></li>
                        <li><a class="dropdown-item" href="shop/cart.html">
                            <i class="fas fa-shopping-cart me-2"></i>Cart 
                            <span id="cartBadge" class="badge bg-danger ms-1" style="display: none;">0</span>
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="shop/checkout.html">
                            <i class="fas fa-credit-card me-2"></i>Checkout
                            <span class="badge bg-warning ms-1">Under Construction</span>
                        </a></li>
                        <li><a class="dropdown-item" href="shop/order-success.html">
                            <i class="fas fa-check-circle me-2"></i>Order Confirmation
                            <span class="badge bg-warning ms-1">Under Construction</span>
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="shop/book-service.html">
                            <i class="fas fa-calendar-plus me-2"></i>Book Service
                            <span class="badge bg-success ms-1">Available</span>
                        </a></li>
                    </ul>
                </li>
                
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="accountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-user me-1"></i>Account
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="account/profile.html">
                            <i class="fas fa-user-circle me-2"></i>My Profile
                            <span class="badge bg-warning ms-1">Under Construction</span>
                        </a></li>
                        <li><a class="dropdown-item" href="account/orders.html">
                            <i class="fas fa-receipt me-2"></i>Order History
                            <span class="badge bg-warning ms-1">Under Construction</span>
                        </a></li>
                        <li><a class="dropdown-item" href="account/business-dashboard.html">
                            <i class="fas fa-building me-2"></i>Business Account
                            <span class="badge bg-info ms-1">Wholesale Access</span>
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#" onclick="toggleAccountMode('business')">
                            <i class="fas fa-toggle-on me-2"></i>Switch to Business Pricing
                        </a></li>
                        <li><a class="dropdown-item" href="#" onclick="toggleAccountMode('consumer')">
                            <i class="fas fa-toggle-off me-2"></i>Switch to Consumer Pricing
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="auth/login.html">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                            <span class="badge bg-warning ms-1">Under Construction</span>
                        </a></li>
                        <li><a class="dropdown-item" href="auth/register.html">
                            <i class="fas fa-user-plus me-2"></i>Register
                            <span class="badge bg-warning ms-1">Under Construction</span>
                        </a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!-- SIMPLIFIED Hero Section - 40% height reduction -->
<section class="hero-section">
    <div class="container text-center">
        <h1 class="display-4 fw-bold mb-3">Professional Hypochlorous Acid Products</h1>
        <p class="lead mb-4">EPA Premium & USDA Organic - Utah Manufactured with Free Shipping</p>
        
        <!-- STREAMLINED Hero Stats Only -->
        <div class="hero-stats mb-4">
            <div class="stat-item">
                <span class="stat-number" id="totalProductCount">57</span>
                <span class="stat-label">Total Products</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="premiumProductCount">38</span>
                <span class="stat-label">EPA Premium</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="organicProductCount">19</span>
                <span class="stat-label">USDA Organic</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">FREE</span>
                <span class="stat-label">Shipping</span>
            </div>
        </div>

        <!-- STREAMLINED Action Buttons -->
        <div class="d-flex justify-content-center gap-3 flex-wrap mt-4">
            <button class="btn btn-light btn-lg" onclick="showAllProducts()">
                <i class="fas fa-boxes me-2"></i>Browse Products
            </button>
            <button class="btn btn-outline-light" onclick="toggleCart()">
                <i class="fas fa-shopping-cart me-2"></i>Cart (<span id="heroCartCount">0</span>)
            </button>
            <a href="tel:+18017125663" class="btn btn-outline-light">
                <i class="fas fa-phone me-2"></i>Call (801) 712-5663
            </a>
        </div>

        <!-- SIMPLIFIED Security Badge -->
        <div class="shopify-security-badge mt-4">
            <i class="fas fa-shield-alt me-2"></i>
            <strong>Secure Shopping</strong> - Cart System Active
        </div>

        <!-- SIMPLIFIED Trust Indicators -->
        <div class="trust-indicators mt-3">
            <div class="row">
                <div class="col-6 col-md-3">
                    <small class="text-white-50">
                        <i class="fas fa-certificate me-1"></i>
                        Utah Made
                    </small>
                </div>
                <div class="col-6 col-md-3">
                    <small class="text-white-50">
                        <i class="fas fa-shipping-fast me-1"></i>
                        Free Shipping
                    </small>
                </div>
                <div class="col-6 col-md-3">
                    <small class="text-white-50">
                        <i class="fas fa-headset me-1"></i>
                        Expert Support
                    </small>
                </div>
                <div class="col-6 col-md-3">
                    <small class="text-white-50">
                        <i class="fas fa-industry me-1"></i>
                        Bulk Available
                    </small>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- STREAMLINED Filter Section with Account Indicator -->
<section class="filter-section">
    <div class="container">
        <!-- ACCOUNT MODE INDICATOR - Moved from hero -->
        <div id="accountModeIndicator" class="text-center mb-3 p-2 bg-light rounded">
            <i class="fas fa-user"></i> Consumer Account
            <button class="btn btn-sm btn-outline-primary ms-2" onclick="toggleAccountMode('business')">
                Switch to Business Pricing
            </button>
        </div>
        
        <!-- PRIMARY FILTERS ONLY -->
        <div class="filter-controls">
            <div class="me-3">
                <strong><i class="fas fa-filter me-2"></i>Filter Products:</strong>
            </div>
            
            <div class="filter-group me-4">
                <button class="filter-btn active" data-filter="all" data-type="certification" onclick="applyFilter('certification', 'all', this)">
                    <i class="fas fa-th-large me-1"></i>All (<span id="allCount">57</span>)
                </button>
                <button class="filter-btn" data-filter="premium" data-type="certification" onclick="applyFilter('certification', 'premium', this)">
                    <i class="fas fa-crown me-1"></i>EPA Premium (<span id="premiumCount">38</span>)
                </button>
                <button class="filter-btn" data-filter="organic" data-type="certification" onclick="applyFilter('certification', 'organic', this)">
                    <i class="fas fa-leaf me-1"></i>USDA Organic (<span id="organicCount">19</span>)
                </button>
            </div>
            
            <!-- COLLAPSIBLE SECONDARY FILTERS -->
            <button class="secondary-filters-toggle" onclick="toggleSecondaryFilters()">
                <i class="fas fa-chevron-down me-1"></i>More Filters
            </button>
        </div>
        
        <!-- SECONDARY FILTERS (Hidden by default) -->
        <div class="secondary-filters" id="secondaryFilters">
            <div class="d-flex flex-wrap gap-2 justify-content-center">
                <button class="btn btn-sm btn-outline-primary" data-filter="commercial" onclick="toggleUseCaseFilter('commercial', this)">Commercial</button>
                <button class="btn btn-sm btn-outline-primary" data-filter="residential" onclick="toggleUseCaseFilter('residential', this)">Residential</button>
                <button class="btn btn-sm btn-outline-primary" data-filter="veterinary" onclick="toggleUseCaseFilter('veterinary', this)">Pet & Veterinary</button>
                <button class="btn btn-sm btn-outline-primary" data-filter="bulk" onclick="toggleUseCaseFilter('bulk', this)">Bulk Solutions</button>
            </div>
        </div>

        <!-- SIMPLIFIED SEARCH -->
        <div class="search-section mt-3">
            <div class="row align-items-center">
                <div class="col-lg-8 mb-3 mb-lg-0">
                    <div class="input-group">
                        <span class="input-group-text"><i class="fas fa-search"></i></span>
                        <input type="text" class="form-control" id="productSearch" 
                               placeholder="Search products..." oninput="searchProducts(this.value)">
                        <button class="btn btn-outline-secondary" onclick="clearSearch()">Clear</button>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="d-flex align-items-center justify-content-lg-end">
                        <label class="form-label me-3 mb-0 fw-bold">
                            <i class="fas fa-sort me-1"></i>Sort:
                        </label>
                        <select class="form-select" onchange="sortProducts(this.value)">
                            <option value="name">Name A-Z</option>
                            <option value="price-low">Price: Low-High</option>
                            <option value="price-high">Price: High-Low</option>
                            <option value="certification">Certification</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- SIMPLIFIED RESULTS SUMMARY -->
        <div class="results-summary mt-3">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <div id="resultsDisplay" class="fw-bold text-primary">
                        <i class="fas fa-flask me-2"></i>
                        Showing <span id="visibleProductCount">0</span> professional products
                        <span id="accountPricingNote" class="text-muted ms-2">(Consumer pricing)</span>
                    </div>
                </div>
                <div class="col-md-4 text-md-end mt-2 mt-md-0">
                    <div class="professional-indicators">
                        <span class="badge bg-success me-1">
                            <i class="fas fa-leaf me-1"></i>USDA Organic
                        </span>
                        <span class="badge bg-warning me-1">
                            <i class="fas fa-shield-alt me-1"></i>EPA Registered
                        </span>
                        <span class="badge bg-info">
                            <i class="fas fa-calculator me-1"></i>Volume Discounts
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
    /* SIMPLIFIED Hero Section - 40% height reduction */
    .hero-section {
        background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
        color: white;
        padding: 2.5rem 0; /* Reduced from 4rem */
        margin-bottom: 0;
        position: relative;
    }

    .hero-stats {
        display: flex;
        justify-content: center;
        gap: 1.5rem; /* Reduced from 2rem */
        margin: 1.5rem 0; /* Reduced from 2rem 0 */
        flex-wrap: wrap;
        position: relative;
        z-index: 1;
    }

    .stat-item {
        text-align: center;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        padding: 1.5rem 1rem; /* Reduced from 2rem 1.5rem */
        border-radius: 0.75rem; /* Reduced from 1rem */
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.2s ease; /* Reduced animation time */
        cursor: pointer;
        min-width: 120px; /* Reduced from 140px */
    }

    .stat-item:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px); /* Reduced from -5px */
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15); /* Reduced shadow */
    }

    .stat-number {
        font-size: 2rem; /* Reduced from 2.5rem */
        font-weight: 700;
        display: block;
        margin-bottom: 0.25rem; /* Reduced from 0.5rem */
        background: linear-gradient(135deg, #7DD3FC, #ffffff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .stat-label {
        font-size: 0.8rem; /* Reduced from 0.9rem */
        opacity: 0.9;
        font-weight: 500;
    }

    .trust-indicators {
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        padding-top: 1.5rem; /* Reduced from 2rem */
        margin-top: 1.5rem; /* Reduced from 2rem */
    }

    .shopify-security-badge {
        background: linear-gradient(135deg, #96bf48, #7eb843);
        color: white;
        padding: 0.75rem; /* Reduced from 1rem */
        border-radius: 0.5rem;
        font-weight: 600;
        text-align: center;
        font-size: 0.8rem; /* Reduced from 0.9rem */
        display: flex;
        align-items: center;
        justify-content: center;
        max-width: 500px; /* Reduced from 600px */
        margin: 0 auto;
    }

    /* STREAMLINED Filter System */
    .filter-section {
        background: linear-gradient(180deg, #f8f9fa 0%, white 100%);
        padding: 1.5rem 0; /* Reduced from 2.5rem */
        position: sticky;
        top: 80px;
        z-index: 100;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border-bottom: 2px solid var(--gray-200);
    }

    .filter-controls {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem; /* Reduced from 1rem */
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem; /* Reduced from 1.5rem */
    }

    .filter-group {
        display: flex;
        gap: 0.5rem;
        align-items: center;
    }

    .filter-btn {
        background: white;
        border: 2px solid var(--primary-blue);
        color: var(--primary-blue);
        padding: 0.5rem 1rem; /* Reduced from 0.75rem 1.25rem */
        border-radius: 1.5rem; /* Reduced from 2rem */
        font-weight: 600;
        font-size: 0.8rem; /* Reduced from 0.85rem */
        transition: all 0.2s ease; /* Reduced animation time */
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .filter-btn:hover {
        background: rgba(46, 94, 170, 0.1);
        transform: translateY(-1px); /* Reduced from -2px */
        box-shadow: 0 3px 10px rgba(46, 94, 170, 0.15); /* Reduced shadow */
    }

    .filter-btn.active {
        background: var(--primary-blue);
        color: white;
        box-shadow: 0 3px 10px rgba(46, 94, 170, 0.25); /* Reduced shadow */
        transform: translateY(-1px);
    }

    /* SIMPLIFIED SEARCH */
    .search-section {
        background: white;
        padding: 1rem; /* Reduced from 1.5rem */
        border-radius: 0.75rem; /* Reduced from 1rem */
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05); /* Reduced shadow */
        border: 1px solid var(--gray-200);
    }

    /* COLLAPSIBLE SECONDARY FILTERS */
    .secondary-filters {
        background: rgba(46, 94, 170, 0.03); /* Very subtle */
        padding: 0.75rem; /* Reduced */
        border-radius: 0.5rem;
        margin-top: 0.75rem;
        border: 1px solid rgba(46, 94, 170, 0.08);
        display: none; /* Hidden by default */
    }

    .secondary-filters.show {
        display: block;
        animation: slideDown 0.3s ease;
    }

    .secondary-filters-toggle {
        background: none;
        border: none;
        color: var(--primary-blue);
        font-size: 0.8rem;
        cursor: pointer;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        transition: background 0.2s ease;
    }

    .secondary-filters-toggle:hover {
        background: rgba(46, 94, 170, 0.1);
    }

    @keyframes slideDown {
        from { opacity: 0; max-height: 0; }
        to { opacity: 1; max-height: 200px; }
    }

    /* SIMPLIFIED RESULTS SUMMARY */
    .results-summary {
        background: white;
        padding: 1rem; /* Reduced from 1.5rem */
        border-radius: 0.75rem; /* Reduced from 1rem */
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04); /* Reduced shadow */
        border-left: 3px solid var(--primary-blue); /* Reduced from 4px */
    }

    .professional-indicators .badge {
        font-size: 0.75rem;
        padding: 0.4rem 0.6rem;
    }

    /* OPTIMIZED Professional Product Cards - 25% smaller */
    .section-header {
        text-align: center;
        padding: 2.5rem 0 1.5rem; /* Reduced from 4rem 0 2rem */
        position: relative;
        margin-bottom: 1.5rem; /* Reduced from 2rem */
    }

    .section-header.premium {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        color: #92400e;
        border-radius: 1rem;
    }

    .section-header.organic {
        background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
        color: #166534;
        border-radius: 1rem;
    }

    .section-title {
        font-size: 2rem; /* Reduced from 2.5rem */
        font-weight: 700;
        margin-bottom: 0.75rem; /* Reduced from 1rem */
        position: relative;
    }

    .section-title::after {
        content: '';
        position: absolute;
        bottom: -8px; /* Reduced from -10px */
        left: 50%;
        transform: translateX(-50%);
        width: 50px; /* Reduced from 60px */
        height: 3px; /* Reduced from 4px */
        background: currentColor;
        border-radius: 2px;
    }

    .section-subtitle {
        font-size: 1rem; /* Reduced from 1.2rem */
        opacity: 0.8;
        max-width: 500px; /* Reduced from 600px */
        margin: 0 auto;
    }

    .product-card {
        background: white;
        border: none;
        border-radius: 1rem; /* Reduced from 1.5rem */
        box-shadow: 0 3px 15px rgba(0, 0, 0, 0.06); /* Reduced shadow */
        transition: all 0.2s ease; /* Reduced animation time */
        height: 100%;
        overflow: hidden;
        position: relative;
        border: 1px solid var(--gray-200);
    }

    .product-card:hover {
        transform: translateY(-5px); /* Reduced from -10px */
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12); /* Reduced shadow */
        border-color: var(--primary-blue);
    }

    .product-badge {
        position: absolute;
        top: 1rem; /* Reduced from 1.5rem */
        right: 1rem; /* Reduced from 1.5rem */
        padding: 0.4rem 0.8rem; /* Reduced from 0.6rem 1rem */
        border-radius: 1.5rem; /* Reduced from 2rem */
        font-size: 0.65rem; /* Reduced from 0.75rem */
        font-weight: 700;
        z-index: 10;
        text-transform: uppercase;
        letter-spacing: 0.3px; /* Reduced from 0.5px */
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); /* Reduced shadow */
    }

    .badge-premium {
        background: linear-gradient(135deg, var(--premium-gold), #fbbf24);
        color: #92400e;
        border: 2px solid #f59e0b;
    }

    .badge-organic {
        background: linear-gradient(135deg, var(--accent-green), var(--success-green));
        color: #14532d;
        border: 2px solid var(--success-green);
    }

    .product-icon {
        font-size: 2.5rem; /* Reduced from 3.5rem */
        margin: 1.5rem 0 1rem; /* Reduced from 2rem 0 1.5rem */
        text-align: center;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.08)); /* Reduced shadow */
    }

    .product-title {
        font-size: 1rem; /* Reduced from 1.2rem */
        font-weight: 700;
        color: var(--primary-blue);
        margin-bottom: 0.75rem; /* Reduced from 1rem */
        line-height: 1.3;
        min-height: 2.2rem; /* Reduced from 3rem */
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    /* OPTIMIZED Professional Pricing Section */
    .pricing-section {
        background: linear-gradient(135deg, var(--gray-50), #ffffff);
        padding: 1rem; /* Reduced from 1.5rem */
        border-radius: 0.75rem; /* Reduced from 1rem */
        margin: 1rem 0; /* Reduced from 1.5rem 0 */
        position: relative;
        border: 1px solid var(--gray-200);
    }

    .price-retail {
        font-size: 1.2rem; /* Reduced from 1.5rem */
        font-weight: 700;
        color: var(--primary-blue);
        margin-bottom: 0.25rem; /* Reduced from 0.5rem */
    }

    /* OPTIMIZED Product Controls */
    .product-controls {
        padding: 1.5rem; /* Reduced from 2rem */
        background: linear-gradient(135deg, #f8f9fa, #ffffff);
        border-top: 2px solid var(--gray-200);
        border-radius: 0 0 1rem 1rem; /* Reduced from 1.5rem */
    }

    .quantity-controls {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem; /* Reduced from 1.5rem */
        gap: 0.75rem; /* Reduced from 1rem */
        background: white;
        padding: 0.75rem; /* Reduced from 1rem */
        border-radius: 1.5rem; /* Reduced from 2rem */
        border: 2px solid var(--gray-200);
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.04); /* Reduced shadow */
    }

    /* STANDARDIZED BUTTONS & INTERACTIONS */
    .quantity-btn,
    .cart-qty-btn {
        background: var(--primary-blue);
        color: white;
        border: none;
        width: 30px !important; /* Standardized */
        height: 30px !important; /* Standardized */
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.2s ease !important; /* Reduced animation time */
        font-size: 0.85rem !important; /* Standardized */
        box-shadow: 0 2px 6px rgba(46, 94, 170, 0.25) !important; /* Reduced shadow */
    }

    .quantity-btn:hover:not(:disabled),
    .cart-qty-btn:hover:not(:disabled) {
        background: var(--secondary-blue);
        transform: scale(1.05) !important; /* Reduced from 1.1 */
        box-shadow: 0 3px 10px rgba(125, 211, 252, 0.3) !important; /* Reduced shadow */
    }

    .quantity-btn:disabled {
        background: var(--gray-300);
        cursor: not-allowed;
        opacity: 0.5;
        box-shadow: none;
    }

    .quantity-display {
        font-weight: 700;
        color: var(--primary-blue);
        min-width: 45px !important; /* Consistent width */
        text-align: center;
        font-size: 1rem !important; /* Standardized size */
        background: transparent;
        border: none;
        outline: none;
        border: 2px solid var(--primary-blue) !important;
        border-radius: 0.75rem !important; /* Reduced from 1rem */
        transition: all 0.2s ease !important; /* Faster */
        padding: 0.2rem 0.4rem !important; /* Consistent padding */
    }

    .quantity-display:focus {
        box-shadow: 0 0 0 3px rgba(46, 94, 170, 0.2) !important;
        border-color: var(--secondary-blue) !important;
    }

    /* OPTIMIZED Add to Cart Button */
    .add-to-cart-btn {
        background: linear-gradient(135deg, var(--success-green), var(--accent-green));
        border: none;
        color: white;
        padding: 0.75rem 1.5rem !important; /* Reduced from 1rem 2rem */
        border-radius: 1.5rem !important; /* Reduced from 2rem */
        font-weight: 700;
        width: 100%;
        transition: all 0.2s ease !important; /* Reduced animation time */
        text-transform: uppercase;
        letter-spacing: 0.3px !important; /* Reduced from 0.5px */
        font-size: 0.8rem !important; /* Reduced from 0.9rem */
        position: relative;
        overflow: hidden;
        box-shadow: 0 3px 10px rgba(34, 197, 94, 0.25) !important; /* Reduced shadow */
    }

    .add-to-cart-btn:hover {
        transform: translateY(-2px) !important; /* Reduced from -3px */
        box-shadow: 0 6px 20px rgba(34, 197, 94, 0.3) !important; /* Reduced shadow */
        background: linear-gradient(135deg, #16a34a, #15803d);
        color: white;
    }

    /* STANDARDIZED ACTION BUTTONS */
    .btn-sm {
        padding: 0.4rem 0.8rem !important; /* Consistent small button size */
        font-size: 0.75rem !important;
    }

    .btn-outline-info,
    .btn-outline-primary,
    .btn-outline-success {
        padding: 0.5rem 1rem !important; /* Consistent outline button size */
        font-size: 0.8rem !important;
        transition: all 0.2s ease !important;
    }

    /* Remove excessive animations for performance */
    .product-card,
    .filter-btn,
    .add-to-cart-btn {
        transition: all 0.2s ease !important; /* Standardized fast animations */
    }

    /* Professional Badge Enhancements */
    .badge.bg-warning {
        background: linear-gradient(135deg, #fbbf24, #f59e0b) !important;
        color: #92400e !important;
        font-weight: 600 !important;
        border: 1px solid #f59e0b;
    }

    .badge.bg-info {
        background: linear-gradient(135deg, #7dd3fc, #0ea5e9) !important;
        color: #0c4a6e !important;
        font-weight: 600 !important;
        border: 1px solid #0ea5e9;
    }

    .badge.bg-success {
        background: linear-gradient(135deg, #4ade80, #22c55e) !important;
        color: #14532d !important;
        font-weight: 600 !important;
        border: 1px solid #22c55e;
    }

    .badge.bg-secondary {
        background: linear-gradient(135deg, #9ca3af, #6b7280) !important;
        color: white !important;
        font-weight: 600 !important;
        border: 1px solid #6b7280;
    }

    /* Enhanced Loading and No Results States */
    .loading-card {
        background: linear-gradient(135deg, #f8f9fa 0%, white 100%);
        border: 2px solid var(--primary-blue);
        box-shadow: 0 10px 30px rgba(46, 94, 170, 0.1);
    }

    .no-results-card {
        background: linear-gradient(135deg, #f8f9fa 0%, white 100%);
        border: 2px solid var(--gray-300);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    }

    .suggestions {
        background: rgba(46, 94, 170, 0.05);
        border-radius: 0.5rem;
        padding: 1.5rem;
        border: 1px solid rgba(46, 94, 170, 0.1);
    }

    /* MOBILE - Remove sticky positioning */
    @media (max-width: 768px) {
        .filter-section {
            position: relative;
            top: auto;
            padding: 1.25rem 0; /* Further reduced on mobile */
        }

        .hero-stats {
            flex-direction: column;
            gap: 1rem;
        }

        .stat-item {
            padding: 1.25rem 1rem; /* Reduced */
            min-width: auto;
        }

        .stat-number {
            font-size: 1.8rem; /* Reduced */
        }

        .filter-controls {
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-group {
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 0.4rem 0.8rem; /* Smaller on mobile */
            font-size: 0.7rem;
        }

        .section-title {
            font-size: 1.8rem; /* Reduced for mobile */
        }

        .product-card {
            margin-bottom: 1.5rem; /* Reduced */
        }

        .product-controls {
            padding: 1.25rem; /* Reduced */
        }

        .quantity-controls {
            gap: 0.6rem;
            padding: 0.6rem;
        }

        /* Remove GPU-intensive effects on mobile for performance */
        .product-card:hover {
            transform: translateY(-2px) !important; /* Reduced from -5px */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08) !important; /* Reduced */
        }
        
        .stat-item:hover {
            transform: translateY(-1px) !important; /* Reduced from -2px */
        }
        
        /* Remove backdrop-filter on mobile for performance */
        .stat-item {
            backdrop-filter: none !important;
        }
    }

    /* Product visibility for filtering */
    .product-card[data-visible="false"] {
        display: none !important;
    }

    .product-card[data-visible="true"] {
        display: block !important;
    }

    /* PERFORMANCE OPTIMIZATIONS */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation: none !important;
            transition: none !important;
        }
    }

    /* Accessibility Enhancements */
    .quantity-btn:focus,
    .add-to-cart-btn:focus {
        outline: 3px solid rgba(46, 94, 170, 0.5);
        outline-offset: 2px;
    }

    .filter-btn:focus {
        outline: 2px solid rgba(46, 94, 170, 0.7);
        outline-offset: 1px;
    }
</style>
<!-- Main Products Container - Enhanced with Professional Messaging -->
<div class="container-fluid" id="productsContainer">
    <!-- Professional Product Sections -->
    <div id="productSections">
        <!-- Products dynamically loaded from cart.js PRODUCT_CATALOG -->
    </div>
    
    <!-- Enhanced Loading State -->
    <div id="productsLoading" class="text-center py-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="loading-card p-4 rounded"> <!-- Reduced padding -->
                    <div class="spinner-border text-primary mb-3" role="status" style="width: 2.5rem; height: 2.5rem;"> <!-- Smaller spinner -->
                        <span class="visually-hidden">Loading products...</span>
                    </div>
                    <h4 class="text-primary mb-3">Loading Professional Products</h4> <!-- Simplified -->
                    <p class="text-muted">
                        <i class="fas fa-flask me-2"></i>57 professional hypochlorous acid products
                    </p>
                    <p class="text-muted small">
                        EPA certified • USDA organic • Utah made
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Enhanced No Results State -->
    <div id="noResultsMessage" class="text-center py-5" style="display: none;">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="no-results-card p-4 rounded"> <!-- Reduced padding -->
                    <div class="display-1 text-muted mb-3"> <!-- Reduced margin -->
                        <i class="fas fa-search"></i>
                    </div>
                    <h4 class="text-muted mb-3">No Products Match Your Search</h4>
                    <p class="text-muted mb-3"> <!-- Reduced margin -->
                        Try different search terms or clear filters to see all products.
                    </p>
                    
                    <!-- Helpful Suggestions -->
                    <div class="suggestions mb-3"> <!-- Reduced margin -->
                        <h6 class="text-primary mb-3">Quick Searches:</h6>
                        <div class="d-flex flex-wrap justify-content-center gap-2">
                            <button class="btn btn-sm btn-outline-primary" onclick="searchProducts('EPA')">
                                EPA Products
                            </button>
                            <button class="btn btn-sm btn-outline-success" onclick="searchProducts('organic')">
                                Organic Products
                            </button>
                            <button class="btn btn-sm btn-outline-info" onclick="searchProducts('pet safe')">
                                Pet Safe
                            </button>
                            <button class="btn btn-sm btn-outline-warning" onclick="searchProducts('bulk')">
                                Bulk Solutions
                            </button>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="clearAllFilters()"> <!-- Removed btn-lg -->
                        <i class="fas fa-refresh me-2"></i>Show All Products
                    </button>
                    
                    <div class="mt-3 pt-3 border-top"> <!-- Reduced margins -->
                        <p class="text-muted small mb-2">
                            <strong>Need help?</strong>
                        </p>
                        <a href="tel:+18017125663" class="btn btn-outline-primary">
                            <i class="fas fa-phone me-2"></i>(801) 712-5663
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- STREAMLINED Shopping Cart Preview -->
<div id="cartPreview" class="cart-preview">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h6 class="fw-bold mb-0">
            <i class="fas fa-shopping-cart me-2"></i>Cart
        </h6>
        <button class="btn-close" onclick="toggleCart()" aria-label="Close cart"></button>
    </div>
    
    <div id="cartItems">
        <div class="text-center text-muted py-3"> <!-- Reduced padding -->
            <i class="fas fa-shopping-cart fa-2x mb-2" style="opacity: 0.3;"></i> <!-- Smaller icon -->
            <p>Cart is empty</p>
            <small>Add products to get started</small>
        </div>
    </div>
    
    <div id="cartSummary" style="display: none;">
        <hr>
        <div class="d-flex justify-content-between">
            <span>Subtotal:</span>
            <span id="cartRetailTotal">$0.00</span>
        </div>
        <div class="d-flex justify-content-between text-success">
            <span>Savings:</span>
            <span id="cartSavings">-$0.00</span>
        </div>
        <div class="d-flex justify-content-between text-info" id="businessDiscountRow" style="display: none;">
            <span>Business:</span>
            <span id="cartBusinessDiscount">-$0.00</span>
        </div>
        <div class="d-flex justify-content-between">
            <span>Tax:</span>
            <span id="cartTax">$0.00</span>
        </div>
        <div class="d-flex justify-content-between">
            <span>Shipping:</span>
            <span id="cartShipping">FREE</span>
        </div>
        <div class="d-flex justify-content-between fw-bold border-top pt-2 mt-2">
            <span>Total:</span>
            <span id="cartTotal">$0.00</span>
        </div>
        
        <div class="mt-2 p-2 bg-light rounded"> <!-- Reduced margins -->
            <small class="text-muted">
                <i class="fas fa-truck me-1"></i>
                Delivery: <span id="deliveryEstimate">2-4 days</span>
            </small>
        </div>
        
        <div class="d-grid gap-2 mt-3">
            <button class="btn btn-primary" onclick="proceedToCart()">
                <i class="fas fa-shopping-cart me-2"></i>View Cart
            </button>
            <button class="btn btn-outline-primary btn-sm" onclick="requestCustomQuote()">
                <i class="fas fa-clipboard-list me-2"></i>Request Quote
                <span class="badge bg-warning ms-1">Coming Soon</span>
            </button>
            <button class="btn btn-outline-success btn-sm" onclick="callForAssistance()">
                <i class="fas fa-phone me-2"></i>(801) 712-5663
            </button>
        </div>
    </div>
</div>

<!-- SIMPLIFIED Volume Notification Template -->
<div id="volumeNotificationTemplate" class="volume-notification" style="display: none;">
    <div class="d-flex align-items-center">
        <i class="fas fa-percentage me-2"></i>
        <div>
            <div class="fw-bold">Discount Applied!</div>
            <div class="small" id="volumeNotificationText">Bulk pricing activated</div>
        </div>
    </div>
</div>
<!-- STREAMLINED Trust Signals Section -->
<section class="trust-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-6">
                <div class="trust-item">
                    <i class="fas fa-shipping-fast"></i>
                    <h6>FREE Shipping</h6>
                    <p class="small mb-0">Nationwide</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-6">
                <div class="trust-item">
                    <i class="fas fa-shield-alt"></i>
                    <h6>Dual Certified</h6>
                    <p class="small mb-0">EPA & USDA</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-6">
                <div class="trust-item">
                    <i class="fas fa-award"></i>
                    <h6>Utah Made</h6>
                    <p class="small mb-0">Local quality</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-6">
                <div class="trust-item">
                    <i class="fas fa-phone-alt"></i>
                    <h6>Expert Help</h6>
                    <p class="small mb-0">Professional support</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- STREAMLINED Footer -->
<footer class="footer-section">
    <div class="container">
        <div class="row">
            <div class="col-md-3 mb-4">
                <div class="d-flex align-items-center mb-3">
                    <svg width="32" height="32" viewBox="0 0 400 250" class="me-2"> <!-- Reduced size -->
                        <rect width="400" height="250" fill="#2E5EAA"/>
                        <text x="200" y="180" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="100" font-weight="bold">OHS</text>
                        <text x="200" y="210" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="20">Organic HypoSolutions</text>
                        <path d="M 320 80 Q 340 60 360 80 Q 340 100 320 80" fill="#4ADE80"/>
                        <path d="M 330 70 Q 350 50 370 70 Q 350 90 330 70" fill="#22C55E"/>
                    </svg>
                    <h5 class="mb-0 text-white">OHS</h5> <!-- Simplified -->
                </div>
                <p class="text-white-50">Utah's dual-certified HOCl manufacturer for families and businesses.</p> <!-- Simplified -->
            </div>
            
            <div class="col-md-2 mb-4">
                <h6 class="fw-bold mb-3 text-white">Products</h6>
                <ul class="list-unstyled">
                    <li><a href="#organic-products" class="text-white-50 text-decoration-none">USDA Organic (19)</a></li>
                    <li><a href="#premium-products" class="text-white-50 text-decoration-none">EPA Premium (38)</a></li>
                    <li><a href="#bulk-products" class="text-white-50 text-decoration-none">Bulk Solutions</a></li>
                </ul>
            </div>
            
            <div class="col-md-2 mb-4">
                <h6 class="fw-bold mb-3 text-white">Certified</h6>
                <ul class="list-unstyled">
                    <li><span class="footer-cert">USDA Organic</span></li>
                    <li><span class="footer-cert">EPA Registered</span></li>
                    <li><span class="footer-cert">FDA Food Safe</span></li>
                </ul>
            </div>
            
            <div class="col-md-2 mb-4">
                <h6 class="fw-bold mb-3 text-white">Support</h6>
                <ul class="list-unstyled">
                    <li><a href="science-certifications.html" class="text-white-50 text-decoration-none">Science</a></li>
                    <li><a href="calculator.html" class="text-white-50 text-decoration-none">Calculator</a></li>
                    <li><a href="about.html" class="text-white-50 text-decoration-none">About</a></li>
                    <li><a href="contact.html" class="text-white-50 text-decoration-none">Contact</a></li>
                </ul>
            </div>
            
            <div class="col-md-3 mb-4">
                <h6 class="fw-bold mb-3 text-white">Contact</h6>
                <p class="mb-2">
                    <i class="fas fa-phone me-2"></i>
                    <a href="tel:+18017125663" class="text-white text-decoration-none">(801) 712-5663</a>
                </p>
                <p class="mb-2">
                    <i class="fas fa-envelope me-2"></i>
                    <a href="mailto:ohshocl@gmail.com" class="text-white text-decoration-none">ohshocl@gmail.com</a>
                </p>
                <p class="mb-3">
                    <i class="fas fa-map-marker-alt me-2"></i>
                    <span class="text-white-50">Salt Lake City, UT</span>
                </p>
            </div>
        </div>
        
        <hr class="my-3 border-white-50"> <!-- Reduced margins -->
        
        <div class="row align-items-center">
            <div class="col-md-6">
                <p class="mb-0 text-white-50">&copy; 2025 Organic HypoSolutions. All rights reserved.</p>
            </div>
            <div class="col-md-6 text-md-end">
                <span class="footer-cert me-1">57 Products</span>
                <span class="footer-cert me-1">FREE Ship</span>
                <span class="footer-cert">Cart Ready</span>
            </div>
        </div>
    </div>
</footer>

<!-- STREAMLINED Footer & Cart Styling -->
<style>
    .footer-section {
        background: linear-gradient(135deg, #000000 0%, #1f2937 100%) !important;
        color: white;
        padding: 2.5rem 0 1.5rem; /* Reduced padding */
        border-top: 3px solid var(--primary-blue);
    }

    .footer-cert {
        background: white;
        color: var(--primary-blue);
        padding: 0.2rem 0.4rem; /* Reduced padding */
        border-radius: 0.4rem;
        font-size: 0.7rem; /* Reduced size */
        font-weight: 600;
        margin: 0.2rem;
        display: inline-block;
        transition: all 0.2s ease; /* Faster transition */
    }

    .footer-cert:hover {
        transform: translateY(-1px); /* Reduced movement */
        box-shadow: 0 3px 10px rgba(46, 94, 170, 0.25); /* Reduced shadow */
        background: linear-gradient(135deg, white, #f8f9fa) !important;
    }

    .trust-section {
        background: linear-gradient(135deg, var(--gray-50), white);
        padding: 2.5rem 0; /* Reduced from 3rem */
        margin-top: 3rem; /* Reduced from 4rem */
        border-top: 3px solid var(--primary-blue);
    }

    .trust-item {
        text-align: center;
        padding: 1.5rem 1rem; /* Reduced padding */
        border-radius: 1rem;
        background: white;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        border: 1px solid var(--gray-200);
        margin-bottom: 1rem;
        transition: all 0.2s ease; /* Faster transition */
    }

    .trust-item:hover {
        transform: translateY(-3px); /* Reduced movement */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08); /* Reduced shadow */
        border-color: var(--primary-blue);
    }

    .trust-item i {
        font-size: 2rem; /* Reduced from 2.5rem */
        background: linear-gradient(135deg, var(--success-green), var(--accent-green));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.75rem; /* Reduced margin */
        filter: drop-shadow(0 2px 4px rgba(34, 197, 94, 0.2));
    }

    .trust-item h6 {
        font-weight: 700;
        color: var(--primary-blue);
        margin-bottom: 0.4rem; /* Reduced margin */
    }

    /* STREAMLINED Cart Preview */
    .cart-preview {
        position: fixed;
        top: 120px;
        right: -380px; /* Slightly smaller */
        width: 360px; /* Reduced from 400px */
        max-height: 65vh; /* Reduced height */
        background: white;
        border-radius: 1rem;
        box-shadow: 0 20px 40px rgba(46, 94, 170, 0.15); /* Reduced shadow */
        padding: 1.25rem; /* Reduced padding */
        z-index: 9999;
        transition: right 0.25s ease; /* Faster transition */
        overflow-y: auto;
        border: 2px solid var(--primary-blue);
    }

    .cart-preview.show {
        right: 20px;
        box-shadow: 0 20px 40px rgba(46, 94, 170, 0.2); /* Reduced shadow */
    }

    .cart-item {
        display: flex;
        align-items: center;
        padding: 0.6rem 0; /* Reduced padding */
        border-bottom: 1px solid var(--gray-200);
        transition: background 0.2s ease;
    }

    .cart-item:hover {
        background: var(--gray-50);
        border-radius: 0.5rem;
    }

    .cart-item:last-child {
        border-bottom: none;
    }

    .cart-item-info {
        flex-grow: 1;
        margin-right: 0.75rem; /* Reduced margin */
    }

    .cart-item-name {
        font-weight: 700;
        color: var(--primary-blue);
        font-size: 0.85rem; /* Reduced size */
        margin-bottom: 0.2rem;
    }

    .cart-item-details {
        font-size: 0.75rem; /* Reduced size */
        color: var(--gray-500);
    }

    .cart-item-controls {
        display: flex;
        align-items: center;
        gap: 0.4rem; /* Reduced gap */
    }

    .cart-qty-display {
        font-weight: 700;
        color: var(--primary-blue);
        min-width: 28px; /* Reduced width */
        text-align: center;
        font-size: 0.8rem; /* Reduced size */
    }

    /* STREAMLINED Volume Notification */
    .volume-notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, var(--success-green), #16a34a) !important;
        color: white;
        padding: 0.75rem 1.25rem; /* Reduced padding */
        border-radius: 0.75rem;
        box-shadow: 0 6px 20px rgba(34, 197, 94, 0.35); /* Reduced shadow */
        z-index: 9999;
        transform: translateX(400px);
        transition: all 0.25s ease; /* Faster transition */
        max-width: 280px; /* Reduced width */
        border: 2px solid var(--accent-green);
    }

    .volume-notification.show {
        transform: translateX(0);
        animation: slideInRight 0.4s ease; /* Faster animation */
    }

    @keyframes slideInRight {
        from {
            opacity: 0;
            transform: translateX(100%);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    /* Enhanced Loading States */
    .product-card.loading {
        opacity: 0.6;
        pointer-events: none;
    }

    .product-card.loading::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 24px; /* Smaller spinner */
        height: 24px;
        margin: -12px 0 0 -12px;
        border: 2px solid var(--gray-300); /* Thinner border */
        border-top: 2px solid var(--primary-blue);
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* Success States */
    .product-card.added-to-cart {
        border-color: var(--success-green);
        box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2); /* Reduced glow */
        animation: addedPulse 0.8s ease-out; /* Faster animation */
    }

    @keyframes addedPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.01); } /* Reduced scale */
        100% { transform: scale(1); }
    }

    /* Mobile cart preview */
    @media (max-width: 768px) {
        .cart-preview {
            width: calc(100vw - 30px); /* Smaller margin */
            right: -100vw;
            top: 90px; /* Adjusted */
        }

        .cart-preview.show {
            right: 15px; /* Smaller margin */
        }

        .volume-notification {
            right: 15px;
            left: 15px;
            max-width: none;
            transform: translateY(-100px);
        }

        .volume-notification.show {
            transform: translateY(0);
        }
    }

    /* Print Styles */
    @media print {
        .filter-section,
        .cart-preview,
        .volume-notification,
        .navbar,
        .footer-section,
        .trust-section {
            display: none !important;
        }

        .product-card {
            break-inside: avoid;
            box-shadow: none;
            border: 1px solid #000;
            margin-bottom: 1rem;
        }

        .add-to-cart-btn,
        .product-controls {
            display: none !important;
        }
    }
</style>   
<!-- Bootstrap JS Bundle -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

<!-- Load Cart System -->
<script src="shop/js/cart.js"></script>

<!-- OPTIMIZED Products Page Integration -->
<script>
    // Global variables
    let currentFilters = { 
        brand: 'all', 
        category: 'all',
        certification: 'all',
        useCase: [],
        searchTerm: ''
    };
    let productQuantities = {};

    // Wait for cart system to load
    function waitForCartSystem() {
        return new Promise((resolve, reject) => {
            let attempts = 0;
            const maxAttempts = 50;
            
            const checkSystem = () => {
                attempts++;
                
                if (typeof PRODUCT_CATALOG !== 'undefined' && 
                    Object.keys(PRODUCT_CATALOG).length > 0) {
                    console.log('✅ Cart system loaded');
                    resolve();
                } else if (attempts >= maxAttempts) {
                    reject(new Error('Cart system timeout'));
                } else {
                    setTimeout(checkSystem, 100);
                }
            };
            
            checkSystem();
        });
    }

    // Initialize on DOM load
    document.addEventListener('DOMContentLoaded', async function() {
        try {
            await waitForCartSystem();
            loadProducts();
            updateAccountDisplay(getAccountType());
            updateCartBadges();
            console.log('Filter system initialized');
        } catch (error) {
            console.error('Failed to load cart system:', error);
            showFallbackProducts();
        }
    });

    // OPTIMIZED Load products function
    function loadProducts() {
        const productsContainer = document.getElementById('productSections');
        const loadingDiv = document.getElementById('productsLoading');
        
        if (loadingDiv) loadingDiv.style.display = 'none';
        
        // Separate products by type
        const organicProducts = [];
        const premiumProducts = [];
        
        Object.values(PRODUCT_CATALOG).forEach(product => {
            if (product.productLine === 'organic' || product.type === 'organic') {
                organicProducts.push(product);
            } else {
                premiumProducts.push(product);
            }
            productQuantities[product.id] = 1;
        });
        
        // Generate HTML with USDA Organic first
        let html = '';
        if (organicProducts.length > 0) {
            html += createProductSection('organic', 'USDA Organic Line', organicProducts);
        }
        if (premiumProducts.length > 0) {
            html += createProductSection('premium', 'EPA Premium Line', premiumProducts);
        }
        
        if (productsContainer) {
            productsContainer.innerHTML = html;
        }
        
        updateProductCounts();
    }

    function createProductSection(type, title, products) {
        const sectionClass = type === 'organic' ? 'organic' : 'premium';
        const icon = type === 'organic' ? 'leaf' : 'crown';
        
        let html = `
            <section id="${type}-products" class="mb-4"> <!-- Reduced margin -->
                <div class="section-header ${sectionClass}">
                    <h2 class="section-title">
                        <i class="fas fa-${icon} me-2"></i>${title}
                    </h2>
                    <p class="section-subtitle">${type === 'organic' ? 'Family-safe USDA Certified Organic' : 'Professional EPA Registered'}</p>
                </div>
                <div class="container">
                    <div class="row">
        `;
        
        products.forEach(product => {
            html += createProductCard(product, type);
        });
        
        html += '</div></div></section>';
        return html;
    }

    // OPTIMIZED Product card creation
    function createProductCard(product, type) {
        const accountType = getAccountType();
        const retail = product.pricing?.retail || product.price || 0;
        const wholesale = product.pricing?.wholesale || (retail * 0.7);
        const currentPrice = accountType === 'business' ? wholesale : retail;
        
        const badgeColor = type === 'organic' ? '#4ADE80' : '#f59e0b';
        const badgeText = type === 'organic' ? 'USDA ORGANIC' : 'EPA PREMIUM';
        const certIcon = type === 'organic' ? 'leaf' : 'shield-alt';
        
        // Determine use cases for filtering
        const useCases = [];
        if (product.tags) {
            if (product.tags.includes('commercial') || product.tags.includes('professional')) useCases.push('commercial');
            if (product.tags.includes('residential') || product.tags.includes('family')) useCases.push('residential');
            if (product.tags.includes('veterinary') || product.tags.includes('pet')) useCases.push('veterinary');
            if (product.tags.includes('bulk') || product.tags.includes('industrial')) useCases.push('bulk');
        }
        // Default use cases if none specified
        if (useCases.length === 0) {
            if (type === 'organic') useCases.push('residential', 'veterinary');
            if (type === 'premium') useCases.push('commercial', 'bulk');
        }
        
        return `
            <div class="col-xl-4 col-lg-6 col-md-6 mb-3"> <!-- Reduced margin -->
                <div class="product-card" 
                     data-brand="${type}" 
                     data-category="${product.category || 'general'}"
                     data-product-id="${product.id}"
                     data-product-type="${type}"
                     data-certification="${type === 'organic' ? 'usda' : 'epa'}"
                     data-use-cases="${useCases.join(',')}"
                     data-sku="${product.sku || product.id}"
                     data-price="${currentPrice}"
                     data-visible="true">
                    
                    <div class="product-badge" style="background: ${badgeColor}; color: white;">
                        <i class="fas fa-${certIcon} me-1"></i>${badgeText}
                    </div>
                    
                    <div class="card-body p-3 text-center"> <!-- Reduced padding -->
                        <div class="product-icon mb-2">${product.emoji || '🧴'}</div> <!-- Reduced margin -->
                        <h5 class="product-title mb-2">${product.name}</h5> <!-- Reduced margin -->
                        
                        <p class="text-muted small mb-2">${product.description || 'Professional hypochlorous acid solution'}</p> <!-- Reduced margin -->
                        
                        <div class="pricing-section mb-2"> <!-- Reduced margin -->
                            <div class="price-retail h5 text-primary">$${currentPrice.toFixed(2)}</div> <!-- Smaller heading -->
                            <small class="text-muted">SKU: ${product.sku || product.id}</small>
                            
                            ${accountType === 'consumer' && wholesale !== retail ? 
                                `<div class="text-success small mt-1">Business: $${wholesale.toFixed(2)} <span class="badge bg-warning">Save ${Math.round((1 - wholesale/retail) * 100)}%</span></div>` : ''}
                        </div>
                        
                        <ul class="list-unstyled small mb-2"> <!-- Reduced margin -->
                            <li><i class="fas fa-check text-success me-1"></i>${type === 'organic' ? 'Family & Pet Safe' : 'Commercial Grade'}</li>
                            <li><i class="fas fa-check text-success me-1"></i>Utah Made</li>
                            <li><i class="fas fa-check text-success me-1"></i>Free Shipping</li>
                        </ul>
                        
                        <div class="product-controls">
                            <div class="quantity-controls mb-2"> <!-- Reduced margin -->
                                <div class="input-group justify-content-center">
                                    <button class="btn btn-outline-primary btn-sm" onclick="changeQuantity('${product.id}', -1)" type="button"> <!-- Smaller buttons -->
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" class="form-control form-control-sm text-center" style="max-width: 70px;" 
                                           id="qty-${product.id}" value="1" min="1" max="999"
                                           onchange="setQuantity('${product.id}', this.value)">
                                    <button class="btn btn-outline-primary btn-sm" onclick="changeQuantity('${product.id}', 1)" type="button">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <button class="btn btn-success w-100 mb-2" onclick="addToCartFromProducts('${product.id}')"> <!-- Reduced margin -->
                                <i class="fas fa-cart-plus me-2"></i>Add to Cart
                            </button>
                            
                            <div class="d-flex gap-1 justify-content-center"> <!-- Smaller gap -->
                                <a href="tel:+18017125663" class="btn btn-sm btn-outline-info">
                                    <i class="fas fa-phone me-1"></i>Help
                                </a>
                                <button class="btn btn-sm btn-outline-secondary" onclick="showProductInfo('${product.id}')">
                                    <i class="fas fa-info me-1"></i>Info
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }

    // NEW FILTER FUNCTIONS

    // Apply certification filter (All, EPA Premium, USDA Organic)
    function applyFilter(type, value, buttonElement) {
        if (type === 'certification') {
            currentFilters.certification = value;
            
            // Update button states
            document.querySelectorAll('.filter-btn[data-type="certification"]').forEach(btn => {
                btn.classList.remove('active');
            });
            buttonElement.classList.add('active');
        }
        
        filterProducts();
    }

    // Toggle use case filter (Commercial, Residential, etc.)
    function toggleUseCaseFilter(useCase, buttonElement) {
        const index = currentFilters.useCase.indexOf(useCase);
        
        if (index > -1) {
            // Remove filter
            currentFilters.useCase.splice(index, 1);
            buttonElement.classList.remove('active');
            buttonElement.classList.add('btn-outline-primary');
            buttonElement.classList.remove('btn-primary');
        } else {
            // Add filter
            currentFilters.useCase.push(useCase);
            buttonElement.classList.add('active');
            buttonElement.classList.remove('btn-outline-primary');
            buttonElement.classList.add('btn-primary');
        }
        
        filterProducts();
    }

    // Main filter function
    function filterProducts() {
        const products = document.querySelectorAll('.product-card');
        let visibleCount = 0;
        
        products.forEach(product => {
            let isVisible = true;
            
            // Get product data from attributes
            const productType = product.getAttribute('data-product-type') || 
                               product.getAttribute('data-certification') || '';
            const productUseCases = product.getAttribute('data-use-cases') || '';
            const productText = product.textContent.toLowerCase();
            const productSku = product.getAttribute('data-sku') || '';
            
            // Apply certification filter
            if (currentFilters.certification !== 'all') {
                const matchesCertification = productType.includes(currentFilters.certification) ||
                                           productText.includes(currentFilters.certification);
                if (!matchesCertification) {
                    isVisible = false;
                }
            }
            
            // Apply use case filters (OR logic - must match any selected use case)
            if (currentFilters.useCase.length > 0) {
                const hasMatchingUseCase = currentFilters.useCase.some(useCase => 
                    productUseCases.includes(useCase) || productText.includes(useCase)
                );
                if (!hasMatchingUseCase) {
                    isVisible = false;
                }
            }
            
            // Apply search filter
            if (currentFilters.searchTerm) {
                const searchMatch = productText.includes(currentFilters.searchTerm) ||
                                  productSku.toLowerCase().includes(currentFilters.searchTerm);
                if (!searchMatch) {
                    isVisible = false;
                }
            }
            
            // Show/hide product
            product.style.display = isVisible ? 'block' : 'none';
            if (isVisible) visibleCount++;
        });
        
        // Update visible count
        updateVisibleProductCount(visibleCount);
        
        // Show/hide no results message
        toggleNoResultsMessage(visibleCount === 0);
    }

    // Update visible product count
    function updateVisibleProductCount(count) {
        const countElement = document.getElementById('visibleProductCount');
        if (countElement) {
            if (count !== undefined) {
                countElement.textContent = count;
            } else {
                // Count visible products
                const visibleProducts = document.querySelectorAll('.product-card[style*="block"], .product-card:not([style*="none"])');
                countElement.textContent = visibleProducts.length;
            }
        }
    }

    // Toggle no results message
    function toggleNoResultsMessage(show) {
        let noResultsEl = document.getElementById('noResultsMessage');
        const productSections = document.getElementById('productSections');
        
        if (show && !noResultsEl) {
            // Create no results message if it doesn't exist
            noResultsEl = document.createElement('div');
            noResultsEl.id = 'noResultsMessage';
            noResultsEl.className = 'text-center py-5';
            noResultsEl.innerHTML = `
                <div class="text-muted">
                    <i class="fas fa-search fa-3x mb-3"></i>
                    <h4>No products found</h4>
                    <p>Try adjusting your filters or search terms</p>
                    <button class="btn btn-outline-primary" onclick="clearAllFilters()">Clear All Filters</button>
                </div>
            `;
            
            if (productSections) {
                productSections.parentNode.insertBefore(noResultsEl, productSections.nextSibling);
            }
        }
        
        if (noResultsEl) {
            noResultsEl.style.display = show ? 'block' : 'none';
        }
        
        if (productSections) {
            productSections.style.display = show ? 'none' : 'block';
        }
    }

    // Clear all filters
    function clearAllFilters() {
        // Reset filter state
        currentFilters = {
            brand: 'all', 
            category: 'all',
            certification: 'all',
            useCase: [],
            searchTerm: ''
        };
        
        // Reset UI
        const searchInput = document.getElementById('productSearch');
        if (searchInput) searchInput.value = '';
        
        // Reset primary filter buttons
        document.querySelectorAll('.filter-btn[data-type="certification"]').forEach(btn => {
            btn.classList.remove('active');
        });
        const allButton = document.querySelector('.filter-btn[data-filter="all"]');
        if (allButton) allButton.classList.add('active');
        
        // Reset secondary filter buttons
        document.querySelectorAll('.secondary-filters .btn').forEach(btn => {
            btn.classList.remove('active', 'btn-primary');
            btn.classList.add('btn-outline-primary');
        });
        
        // Show all products
        filterProducts();
    }

    // EXISTING UTILITY FUNCTIONS (Updated)

    function changeQuantity(productId, change) {
        const currentQty = productQuantities[productId] || 1;
        const newQty = Math.max(1, Math.min(999, currentQty + change));
        setQuantity(productId, newQty);
    }

    function setQuantity(productId, value) {
        const qty = Math.max(1, Math.min(999, parseInt(value) || 1));
        productQuantities[productId] = qty;
        
        const input = document.getElementById(`qty-${productId}`);
        if (input) input.value = qty;
    }

    function addToCartFromProducts(productId) {
        const product = PRODUCT_CATALOG[productId];
        if (!product) return;
        
        const quantity = productQuantities[productId] || 1;
        const accountType = getAccountType();
        const price = accountType === 'business' ? 
            (product.pricing?.wholesale || product.price * 0.7) : 
            (product.pricing?.retail || product.price);
        
        try {
            addToCart({
                productId: product.id,
                name: product.name,
                price: price,
                quantity: quantity,
                emoji: product.emoji || '🧴',
                type: product.type || product.productLine,
                sku: product.sku || product.id
            });
            
            updateCartBadges();
            showNotification(`Added ${quantity}x ${product.name}!`, 'success');
        } catch (error) {
            console.error('Failed to add to cart:', error);
            showNotification('Failed to add item. Please try again.', 'error');
        }
    }

    function getAccountType() {
        return localStorage.getItem('ohsAccountType') || 'consumer';
    }

    function toggleAccountMode(mode) {
        localStorage.setItem('ohsAccountType', mode);
        updateAccountDisplay(mode);
        loadProducts();
        showNotification(`Switched to ${mode === 'business' ? 'Business' : 'Consumer'} pricing`, 'success');
    }

    function updateAccountDisplay(mode) {
        const indicator = document.getElementById('accountModeIndicator');
        if (indicator) {
            indicator.innerHTML = mode === 'business' ? 
                '<i class="fas fa-building"></i> Business Account <span class="badge bg-success">Wholesale Pricing</span>' :
                '<i class="fas fa-user"></i> Consumer Account <button class="btn btn-sm btn-outline-primary ms-2" onclick="toggleAccountMode(\'business\')">Switch to Business</button>';
        }
    }

    function updateProductCounts() {
        if (typeof PRODUCT_CATALOG === 'undefined') return;
        
        const organicCount = Object.values(PRODUCT_CATALOG).filter(p => 
            p.productLine === 'organic' || p.type === 'organic').length;
        const premiumCount = Object.values(PRODUCT_CATALOG).length - organicCount;
        const totalCount = organicCount + premiumCount;
        
        ['totalProductCount', 'allCount'].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.textContent = totalCount;
        });
        
        ['organicProductCount', 'organicCount'].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.textContent = organicCount;
        });
        
        ['premiumProductCount', 'premiumCount'].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.textContent = premiumCount;
        });
        
        // Update visible product count
        updateVisibleProductCount();
    }

    function updateCartBadges() {
        try {
            const cart = JSON.parse(localStorage.getItem('ohsCart') || '[]');
            const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 0), 0);
            
            ['cartBadge', 'heroCartCount'].forEach(id => {
                const badge = document.getElementById(id);
                if (badge) {
                    if (totalItems > 0) {
                        badge.textContent = totalItems;
                        badge.style.display = 'inline-block';
                    } else {
                        badge.style.display = 'none';
                    }
                }
            });
        } catch (error) {
            console.log('Cart badge update failed:', error);
        }
    }

    // UPDATED SEARCH FUNCTION
    function searchProducts(query) {
        currentFilters.searchTerm = query.toLowerCase();
        filterProducts();
    }

    function clearSearch() {
        const searchInput = document.getElementById('productSearch');
        if (searchInput) searchInput.value = '';
        currentFilters.searchTerm = '';
        filterProducts();
    }

    function showAllProducts() {
        // Reset all filters
        currentFilters = {
            brand: 'all', 
            category: 'all',
            certification: 'all',
            useCase: [],
            searchTerm: ''
        };
        
        filterProducts();
    }

    function toggleCart() {
        const cartPreview = document.getElementById('cartPreview');
        if (cartPreview) {
            cartPreview.classList.toggle('show');
        }
    }

    function proceedToCart() {
        window.location.href = 'shop/cart.html';
    }

    function toggleSecondaryFilters() {
        const filters = document.getElementById('secondaryFilters');
        const toggle = document.querySelector('.secondary-filters-toggle i');
        
        if (filters) {
            filters.classList.toggle('show');
            if (toggle) {
                toggle.classList.toggle('fa-chevron-down');
                toggle.classList.toggle('fa-chevron-up');
            }
        }
    }

    function showProductInfo(productId) {
        const product = PRODUCT_CATALOG[productId];
        if (!product) return;
        
        alert(`${product.name}\n\nSKU: ${product.sku || product.id}\nType: ${product.type || product.productLine}\n\nFor detailed specifications, call (801) 712-5663`);
    }

    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `alert alert-${type === 'success' ? 'success' : type === 'error' ? 'danger' : 'info'} position-fixed`;
        notification.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 280px; max-width: 320px;';
        notification.innerHTML = `
            <div class="d-flex align-items-center">
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'} me-2"></i>
                <span>${message}</span>
                <button type="button" class="btn-close ms-auto" onclick="this.parentElement.parentElement.remove()"></button>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 4000);
    }

    function showFallbackProducts() {
        const productsContainer = document.getElementById('productSections');
        const loadingDiv = document.getElementById('productsLoading');
        
        if (loadingDiv) loadingDiv.style.display = 'none';
        
        if (productsContainer) {
            productsContainer.innerHTML = `
                <div class="text-center py-5">
                    <div class="alert alert-warning">
                        <h4><i class="fas fa-tools me-2"></i>System Loading</h4>
                        <p>Product catalog is loading. Please refresh or contact us:</p>
                        <a href="tel:+18017125663" class="btn btn-primary">
                            <i class="fas fa-phone me-2"></i>(801) 712-5663
                        </a>
                    </div>
                </div>
            `;
        }
    }

    // UPDATED SORT FUNCTION
    function sortProducts(sortBy) {
        const productContainer = document.querySelector('#productSections') || document.querySelector('.products-container');
        if (!productContainer) return;
        
        const products = Array.from(productContainer.querySelectorAll('.product-card'));
        
        products.sort((a, b) => {
            switch (sortBy) {
                case 'name':
                    const nameA = a.querySelector('.product-title, .card-title, h5, h6')?.textContent || '';
                    const nameB = b.querySelector('.product-title, .card-title, h5, h6')?.textContent || '';
                    return nameA.localeCompare(nameB);
                    
                case 'price-low':
                case 'price-high':
                    const priceA = parseFloat(a.getAttribute('data-price') || a.querySelector('.price')?.textContent?.replace(/[^0-9.]/g, '') || 0);
                    const priceB = parseFloat(b.getAttribute('data-price') || b.querySelector('.price')?.textContent?.replace(/[^0-9.]/g, '') || 0);
                    return sortBy === 'price-low' ? priceA - priceB : priceB - priceA;
                    
                case 'certification':
                    const certA = a.getAttribute('data-certification') || a.getAttribute('data-product-type') || '';
                    const certB = b.getAttribute('data-certification') || b.getAttribute('data-product-type') || '';
                    return certA.localeCompare(certB);
                    
                default:
                    return 0;
            }
        });
        
        // Re-append sorted products
        products.forEach(product => productContainer.appendChild(product));
    }

    // Additional helper functions for future features
    function requestCustomQuote() {
        showNotification('Custom quote system coming soon! Call (801) 712-5663 for immediate quotes.', 'info');
    }

    function callForAssistance() {
        window.location.href = 'tel:+18017125663';
    }

    console.log('✅ Optimized Products Page with Filters Loaded');
</script>

</body>
</html>    
