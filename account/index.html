<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- BRAND-FOCUSED TITLE -->
    <title>My Account | OHSHOCL | Organic HypoSolutions Dashboard</title>
    
    <!-- CLEAN META DESCRIPTION -->
    <meta name="description" content="Manage your Organic HypoSolutions account, view order history, and access exclusive customer benefits.">

    <!-- BRAND KEYWORDS -->
    <meta name="keywords" content="OHSHOCL account, Organic HypoSolutions dashboard, customer portal, order history">

    <!-- STANDARD SEO -->
    <meta name="author" content="OHSHOCL - Organic HypoSolutions">
    <meta name="robots" content="noindex, nofollow">
    <meta name="language" content="English">
    
    <!-- CANONICAL URL -->
    <link rel="canonical" href="https://organichyposolutions.com/account/">

    <!-- BUSINESS INFO -->
    <meta name="business.phone" content="+1-801-712-5663">
    <meta name="business.email" content="ohshocl@gmail.com">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HEKE217WEY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-HEKE217WEY');
    </script>
    
    <style>
        :root {
            --ohs-primary-blue: #2E5EAA;
            --ohs-accent-blue: #7DD3FC;
            --ohs-organic-green: #4ADE80;
            --ohs-dark-green: #22C55E;
            --ohs-premium-gold: #f59e0b;
            --ohs-light-gray: #f8f9fa;
            --ohs-dark-gray: #6c757d;
        }

        /* EXACT NAVBAR STYLING FROM LOGIN/REGISTER */
        .navbar {
            background-color: #2E5EAA !important;
            padding: 0.3rem 0 !important;
            box-shadow: none !important;
            min-height: 80px !important;
        }

        .navbar-brand {
            color: white !important;
            font-size: 1.5rem !important;
            font-weight: bold !important;
            padding: 0.2rem 0 !important;
            display: flex !important;
            align-items: center !important;
        }

        .navbar-brand svg {
            width: 32px !important;
            height: 32px !important;
        }

        .navbar-nav .nav-link {
            color: white !important;
            font-weight: 500 !important;
            padding: 0.5rem 1rem !important;
            margin: 0 !important;
            border-radius: 0 !important;
            transition: all 0.2s ease !important;
            display: flex !important;
            align-items: center !important;
        }

        .navbar-nav .nav-link i {
            margin-right: 0.5rem !important;
            font-size: 0.9rem !important;
        }

        .navbar-nav .nav-link:hover {
            color: #7DD3FC !important;
            background-color: rgba(255, 255, 255, 0.1) !important;
        }

        .navbar-nav .nav-link.active,
        .navbar-nav .nav-link.fw-semibold {
            color: #7DD3FC !important;
            background-color: rgba(255, 255, 255, 0.15) !important;
        }

        /* Override Bootstrap navbar defaults */
        .navbar-light .navbar-nav .nav-link {
            color: white !important;
        }

        .navbar-light .navbar-nav .nav-link:hover,
        .navbar-light .navbar-nav .nav-link:focus {
            color: #7DD3FC !important;
        }

        .navbar-light .navbar-brand {
            color: white !important;
        }

        .navbar-light .navbar-brand:hover,
        .navbar-light .navbar-brand:focus {
            color: white !important;
        }

        /* Dropdown Styling */
        .dropdown-menu {
            background-color: white !important;
            border: none !important;
            border-radius: 8px !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
            padding: 0.5rem 0 !important;
            margin-top: 0.25rem !important;
        }

        .dropdown-item {
            color: #2E5EAA !important;
            padding: 0.5rem 1rem !important;
            border-radius: 0 !important;
            transition: all 0.2s ease !important;
        }

        .dropdown-item:hover,
        .dropdown-item:focus {
            background-color: #f8f9fa !important;
            color: #2E5EAA !important;
        }

        .dropdown-item i {
            width: 16px !important;
            margin-right: 8px !important;
        }

        .badge {
            font-size: 0.7rem !important;
            font-weight: normal !important;
        }

        /* Navbar toggler for mobile */
        .navbar-toggler {
            border-color: rgba(255, 255, 255, 0.3) !important;
        }

        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
        }

        /* GREEN Promotional Banner */
        .promo-banner {
            background: linear-gradient(90deg, #22C55E 0%, #4ADE80 50%, #22C55E 100%);
            color: white;
            padding: 8px 0;
            font-weight: 600;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }

        .promo-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .promo-text {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .promo-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s ease;
        }

        .promo-close:hover {
            background: rgba(255,255,255,0.2);
        }

        /* PROFESSIONAL FOOTER STYLING - MATCHING LOGIN/REGISTER */
        .footer-section {
            background: #000000;
            color: white;
            padding: 3rem 0 1rem;
            font-size: 0.9rem;
        }

        /* Brand Section */
        .footer-brand {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .footer-brand-logo {
            background: var(--ohs-primary-blue);
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 1rem;
            margin-right: 0.75rem;
        }

        .footer-brand-name {
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            margin: 0;
        }

        .footer-tagline {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.5;
            margin-bottom: 0;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        /* Footer Section Headings */
        .footer-heading {
            color: white;
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Footer Lists */
        .footer-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-list li {
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .footer-list a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-size: 0.85rem;
            transition: color 0.2s ease;
        }

        .footer-list a:hover {
            color: var(--ohs-accent-blue);
            text-decoration: none;
        }

        /* Contact Info Styling */
        .footer-contact {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.85rem;
            line-height: 1.6;
        }

        .footer-contact i {
            margin-right: 0.5rem;
            width: 16px;
            color: var(--ohs-accent-blue);
        }

        .footer-contact a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .footer-contact a:hover {
            color: var(--ohs-accent-blue);
        }

        /* Social Media Icons */
        .social-icons {
            margin-top: 1rem;
        }

        .social-icons a {
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.2rem;
            margin-right: 1rem;
            transition: color 0.2s ease;
            text-decoration: none;
        }

        .social-icons a:hover {
            color: var(--ohs-accent-blue);
        }

        /* Bottom Copyright */
        .footer-bottom {
            border-top: 1px solid #333;
            padding-top: 1rem;
            margin-top: 2rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .footer-badges {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 0.5rem;
        }

        .footer-badge {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Account Dashboard Specific Styles */
        .account-section {
            background: var(--ohs-light-gray);
            min-height: calc(100vh - 400px);
            padding: 40px 0;
        }

        .account-header {
            background: linear-gradient(135deg, var(--ohs-primary-blue) 0%, var(--ohs-accent-blue) 100%);
            color: white;
            padding: 40px;
            border-radius: 20px 20px 0 0;
            margin-bottom: -20px;
        }

        .account-container {
            background: white;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            padding: 40px 30px 30px;
        }

        .sidebar-menu {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            padding: 0;
            overflow: hidden;
        }

        .sidebar-menu .nav-link {
            color: var(--ohs-primary-blue);
            padding: 15px 20px;
            border-radius: 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            border-left: 3px solid transparent;
        }

        .sidebar-menu .nav-link i {
            width: 20px;
            margin-right: 10px;
        }

        .sidebar-menu .nav-link:hover {
            background: var(--ohs-light-gray);
            border-left-color: var(--ohs-accent-blue);
        }

        .sidebar-menu .nav-link.active {
            background: var(--ohs-light-gray);
            border-left-color: var(--ohs-primary-blue);
            font-weight: 600;
        }

        .dashboard-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            padding: 25px;
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .order-item {
            background: var(--ohs-light-gray);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .order-item:hover {
            background: #e9ecef;
        }

        .order-status {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-delivered {
            background: rgba(74, 222, 128, 0.2);
            color: var(--ohs-dark-green);
        }

        .status-processing {
            background: rgba(251, 191, 36, 0.2);
            color: #d97706;
        }

        .status-shipped {
            background: rgba(125, 211, 252, 0.2);
            color: var(--ohs-primary-blue);
        }

        .quick-action-btn {
            background: white;
            border: 2px solid var(--ohs-primary-blue);
            color: var(--ohs-primary-blue);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            text-decoration: none;
            display: block;
            height: 100%;
        }

        .quick-action-btn:hover {
            background: var(--ohs-primary-blue);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(46, 94, 170, 0.3);
        }

        .quick-action-btn i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .alert-custom {
            border-radius: 10px;
            border: none;
            padding: 15px 20px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 991.98px) {
            .navbar-nav .nav-link {
                padding: 0.5rem 0.75rem !important;
            }
            
            .sidebar-menu {
                margin-bottom: 30px;
            }
        }

        @media (max-width: 768px) {
            .account-section {
                padding: 20px 0;
            }
            
            .account-header {
                padding: 25px 20px;
            }
            
            .account-container {
                padding: 25px 15px;
            }
            
            .footer-section {
                padding: 2rem 0 1rem;
                text-align: center;
            }
            
            .footer-brand {
                justify-content: center;
                margin-bottom: 1.5rem;
            }
            
            .social-icons {
                text-align: center;
                margin: 1rem 0;
            }

            .footer-badges {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- GREEN Promotional Banner -->
    <div class="promo-banner text-center" id="promoBanner">
        <div class="container">
            <div class="d-flex justify-content-center align-items-center">
                <div class="text-center">
                    <span class="promo-text">
                        ðŸ’° <strong>BULK DISCOUNTS AS HIGH AS 42%</strong> available
                    </span>
                </div>
                <button class="promo-close ms-3" onclick="closeBanner()" aria-label="Close banner">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Navigation - EXACT COPY FROM LOGIN/REGISTER -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="../index.html">
                <svg width="32" height="32" viewBox="0 0 400 250" class="me-2">
                    <rect width="400" height="250" fill="#2E5EAA"/>
                    <text x="200" y="180" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="100" font-weight="bold">OHS</text>
                    <text x="200" y="210" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="20">Organic HypoSolutions</text>
                    <path d="M 320 80 Q 340 60 360 80 Q 340 100 320 80" fill="#4ADE80"/>
                    <path d="M 330 70 Q 350 50 370 70 Q 350 90 330 70" fill="#22C55E"/>
                </svg>
                Organic HypoSolutions
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../services.html">
                            <i class="fas fa-spray-can me-1"></i>Services
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../products.html">
                            <i class="fas fa-shopping-bag me-1"></i>Products
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../calculator.html">
                            <i class="fas fa-calculator me-1"></i>Calculator
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="../about.html" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-info-circle me-1"></i>About
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="../about.html">
                                <i class="fas fa-info-circle me-2"></i>About Us
                            </a></li>
                            <li><a class="dropdown-item" href="../science-certifications.html">
                                <i class="fas fa-microscope me-2"></i>Science & Certifications
                            </a></li>
                            <li><a class="dropdown-item" href="../contact.html">
                                <i class="fas fa-phone me-2"></i>Contact
                            </a></li>
                            <li><a class="dropdown-item" href="../legal-information.html">
                                <i class="fas fa-gavel me-2"></i>Legal Information
                            </a></li>
                        </ul>
                    </li>
                    
                    <!-- Customer Shopping & Account -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="shopDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-shopping-cart me-1"></i>Shop
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="../shop/cart.html">
                                <i class="fas fa-shopping-cart me-2"></i>View Cart 
                                <span id="cartBadge" class="badge bg-danger ms-1" style="display: none;">0</span>
                            </a></li>
                            
                            <li><a class="dropdown-item" href="../shop/book-service.html">
                                <i class="fas fa-calendar-plus me-2"></i>Book Service
                            </a></li>
                        </ul>
                    </li>
                    
                    <!-- Account Dropdown - Now logged in -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle fw-semibold" href="#" id="accountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-user-circle me-1"></i>My Account
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="index.html">
                                <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                            </a></li>
                            <li><a class="dropdown-item" href="#" onclick="loadSection('orders')">
                                <i class="fas fa-box me-2"></i>Orders
                            </a></li>
                            <li><a class="dropdown-item" href="#" onclick="loadSection('addresses')">
                                <i class="fas fa-map-marker-alt me-2"></i>Addresses
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Account Dashboard Section -->
    <section class="account-section">
        <div class="container">
            <!-- Account Header -->
            <div class="account-header">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1 class="h2 mb-2">
                            <i class="fas fa-user-circle me-2"></i>Welcome back, <span id="customerName">Customer</span>!
                        </h1>
                        <p class="mb-0 opacity-90">Manage your account, view orders, and access exclusive benefits</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <span class="badge bg-white text-primary px-3 py-2">
                            <i class="fas fa-star me-1"></i>Consumer Account
                        </span>
                    </div>
                </div>
            </div>

            <!-- Account Container -->
            <div class="account-container">
                <div class="row">
                    <!-- Sidebar Navigation -->
                    <div class="col-lg-3 mb-4">
                        <div class="sidebar-menu">
                            <nav class="nav flex-column">
                                <a class="nav-link active" href="#" data-section="dashboard">
                                    <i class="fas fa-tachometer-alt"></i>Dashboard
                                </a>
                                <a class="nav-link" href="#" data-section="orders">
                                    <i class="fas fa-box"></i>Order History
                                </a>
                                <a class="nav-link" href="#" data-section="addresses">
                                    <i class="fas fa-map-marker-alt"></i>Addresses
                                </a>
                                <a class="nav-link" href="#" data-section="profile">
                                    <i class="fas fa-user-edit"></i>Profile Settings
                                </a>
                                <a class="nav-link" href="#" data-section="security">
                                    <i class="fas fa-shield-alt"></i>Security
                                </a>
                                <a class="nav-link" href="#" data-section="preferences">
                                    <i class="fas fa-cog"></i>Preferences
                                </a>
                                <a class="nav-link text-danger" href="#" onclick="logout()">
                                    <i class="fas fa-sign-out-alt"></i>Logout
                                </a>
                            </nav>
                        </div>
                    </div>

                    <!-- Main Content Area -->
                    <div class="col-lg-9">
                        <div id="accountContent">
                            <!-- Dashboard Section (Default) -->
                            <div id="dashboardSection">
                                <!-- Account Stats -->
                                <div class="row mb-4">
                                    <div class="col-md-3 col-6 mb-3">
                                        <div class="stat-card">
                                            <div class="stat-icon bg-primary bg-opacity-10 text-primary">
                                                <i class="fas fa-shopping-cart"></i>
                                            </div>
                                            <h3 class="h4 mb-1">12</h3>
                                            <p class="text-muted mb-0">Total Orders</p>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-6 mb-3">
                                        <div class="stat-card">
                                            <div class="stat-icon bg-success bg-opacity-10 text-success">
                                                <i class="fas fa-dollar-sign"></i>
                                            </div>
                                            <h3 class="h4 mb-1">$847</h3>
                                            <p class="text-muted mb-0">Total Spent</p>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-6 mb-3">
                                        <div class="stat-card">
                                            <div class="stat-icon bg-info bg-opacity-10 text-info">
                                                <i class="fas fa-truck"></i>
                                            </div>
                                            <h3 class="h4 mb-1">2</h3>
                                            <p class="text-muted mb-0">In Transit</p>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-6 mb-3">
                                        <div class="stat-card">
                                            <div class="stat-icon bg-warning bg-opacity-10 text-warning">
                                                <i class="fas fa-coins"></i>
                                            </div>
                                            <h3 class="h4 mb-1">$42</h3>
                                            <p class="text-muted mb-0">Store Credit</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Recent Orders -->
                                <div class="dashboard-card mb-4">
                                    <h5 class="mb-3">
                                        <i class="fas fa-history me-2"></i>Recent Orders
                                    </h5>
                                    <div class="order-item">
                                        <div class="row align-items-center">
                                            <div class="col-md-3">
                                                <strong>#OHS-2025-001</strong>
                                                <div class="text-muted small">Jan 15, 2025</div>
                                            </div>
                                            <div class="col-md-5">
                                                <div>Premium HOCl Spray (32oz) x2</div>
                                                <div class="text-muted small">+ 2 more items</div>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="order-status status-delivered">Delivered</span>
                                            </div>
                                            <div class="col-md-2 text-end">
                                                <strong>$127.50</strong>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="order-item">
                                        <div class="row align-items-center">
                                            <div class="col-md-3">
                                                <strong>#OHS-2025-002</strong>
                                                <div class="text-muted small">Jan 18, 2025</div>
                                            </div>
                                            <div class="col-md-5">
                                                <div>USDA Organic HOCl (1 Gallon)</div>
                                                <div class="text-muted small">Quantity: 1</div>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="order-status status-shipped">Shipped</span>
                                            </div>
                                            <div class="col-md-2 text-end">
                                                <strong>$89.99</strong>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="order-item">
                                        <div class="row align-items-center">
                                            <div class="col-md-3">
                                                <strong>#OHS-2025-003</strong>
                                                <div class="text-muted small">Jan 20, 2025</div>
                                            </div>
                                            <div class="col-md-5">
                                                <div>EPA Premium Bundle</div>
                                                <div class="text-muted small">5 products</div>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="order-status status-processing">Processing</span>
                                            </div>
                                            <div class="col-md-2 text-end">
                                                <strong>$245.00</strong>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center mt-3">
                                        <a href="#" onclick="loadSection('orders')" class="btn btn-outline-primary">
                                            View All Orders <i class="fas fa-arrow-right ms-1"></i>
                                        </a>
                                    </div>
                                </div>

                                <!-- Quick Actions -->
                                <div class="dashboard-card">
                                    <h5 class="mb-3">
                                        <i class="fas fa-rocket me-2"></i>Quick Actions
                                    </h5>
                                    <div class="row">
                                        <div class="col-md-3 col-6 mb-3">
                                            <a href="../products.html" class="quick-action-btn">
                                                <i class="fas fa-flask"></i>
                                                <div>Browse Products</div>
                                            </a>
                                        </div>
                                        <div class="col-md-3 col-6 mb-3">
                                            <a href="../shop/cart.html" class="quick-action-btn">
                                                <i class="fas fa-redo"></i>
                                                <div>Reorder Items</div>
                                            </a>
                                        </div>
                                        <div class="col-md-3 col-6 mb-3">
                                            <a href="../calculator.html" class="quick-action-btn">
                                                <i class="fas fa-calculator"></i>
                                                <div>Dilution Calculator</div>
                                            </a>
                                        </div>
                                        <div class="col-md-3 col-6 mb-3">
                                            <a href="../contact.html" class="quick-action-btn">
                                                <i class="fas fa-headset"></i>
                                                <div>Get Support</div>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Upgrade Banner -->
                                <div class="alert alert-custom alert-info mt-4" role="alert">
                                    <div class="row align-items-center">
                                        <div class="col-md-8">
                                            <h6 class="mb-1">
                                                <i class="fas fa-building me-2"></i>Upgrade to Business Account
                                            </h6>
                                            <p class="mb-0 small">Get wholesale pricing, bulk discounts up to 42%, and dedicated support</p>
                                        </div>
                                        <div class="col-md-4 text-md-end mt-2 mt-md-0">
                                            <a href="../auth/register.html" class="btn btn-sm btn-success">
                                                Apply Now <i class="fas fa-arrow-right ms-1"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Orders Section (Hidden by default) -->
                            <div id="ordersSection" style="display: none;">
                                <h4 class="mb-4">
                                    <i class="fas fa-box me-2"></i>Order History
                                </h4>
                                <!-- Order history content will be loaded here -->
                            </div>

                            <!-- Addresses Section (Hidden by default) -->
                            <div id="addressesSection" style="display: none;">
                                <h4 class="mb-4">
                                    <i class="fas fa-map-marker-alt me-2"></i>Saved Addresses
                                </h4>
                                <!-- Addresses content will be loaded here -->
                            </div>

                            <!-- Profile Section (Hidden by default) -->
                            <div id="profileSection" style="display: none;">
                                <h4 class="mb-4">
                                    <i class="fas fa-user-edit me-2"></i>Profile Settings
                                </h4>
                                <!-- Profile settings content will be loaded here -->
                            </div>

                            <!-- Security Section (Hidden by default) -->
                            <div id="securitySection" style="display: none;">
                                <h4 class="mb-4">
                                    <i class="fas fa-shield-alt me-2"></i>Security Settings
                                </h4>
                                <!-- Security settings content will be loaded here -->
                            </div>

                            <!-- Preferences Section (Hidden by default) -->
                            <div id="preferencesSection" style="display: none;">
                                <h4 class="mb-4">
                                    <i class="fas fa-cog me-2"></i>Account Preferences
                                </h4>
                                <!-- Preferences content will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER - EXACT COPY FROM LOGIN/REGISTER -->
    <footer class="footer-section">
        <div class="container">
            <div class="row">
                <div class="col-md-3 mb-4">
                    <div class="footer-brand">
                        <svg width="40" height="40" viewBox="0 0 400 250" class="me-2">
                            <rect width="400" height="250" fill="#2E5EAA"/>
                            <text x="200" y="180" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="100" font-weight="bold">OHS</text>
                            <text x="200" y="210" text-anchor="middle" fill="#7DD3FC" font-family="Arial, sans-serif" font-size="20">Organic HypoSolutions</text>
                            <path d="M 320 80 Q 340 60 360 80 Q 340 100 320 80" fill="#4ADE80"/>
                            <path d="M 330 70 Q 350 50 370 70 Q 350 90 330 70" fill="#22C55E"/>
                        </svg>
                        <h5 class="footer-brand-name">Organic HypoSolutions</h5>
                    </div>
                    <p class="footer-tagline">Utah's dual-certified HOCl distributor for families and businesses.</p>
                    
                    <!-- BUSINESS HOURS -->
                    <div class="mt-3">
                        <h6 class="footer-heading">Business Hours</h6>
                        <div class="footer-contact">
                            <p class="mb-1">
                                <i class="fas fa-clock"></i>
                                Mon-Fri: 8:00 AM - 6:00 PM
                            </p>
                            <p class="mb-1">
                                <i class="fas fa-clock"></i>
                                Saturday: 9:00 AM - 5:00 PM
                            </p>
                            <p class="mb-1">
                                <i class="fas fa-moon"></i>
                                Sunday: Closed
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-2 mb-4">
                    <h6 class="footer-heading">Products</h6>
                    <ul class="footer-list">
                        <li><a href="../products.html">USDA Organic (19)</a></li>
                        <li><a href="../products.html">EPA Premium (38)</a></li>
                        <li><a href="../products.html">Bulk Solutions</a></li>
                        <li><a href="../products.html">All Products</a></li>
                    </ul>
                </div>
                
                <div class="col-md-2 mb-4">
                    <h6 class="footer-heading">Certified</h6>
                    <ul class="footer-list">
                        <li><span class="footer-contact">USDA Organic</span></li>
                        <li><span class="footer-contact">EPA Registered</span></li>
                        <li><span class="footer-contact">FDA Food Safe</span></li>
                    </ul>
                </div>
                
                <div class="col-md-2 mb-4">
                    <h6 class="footer-heading">Support</h6>
                    <ul class="footer-list">
                        <li><a href="../science-certifications.html">Science</a></li>
                        <li><a href="../calculator.html">Calculator</a></li>
                        <li><a href="../about.html">About</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                    </ul>
                </div>
                
                <div class="col-md-3 mb-4">
                    <h6 class="footer-heading">Contact</h6>
                    <div class="footer-contact">
                        <p class="mb-2">
                            <i class="fas fa-phone"></i>
                            <a href="tel:+18017125663">(801) 712-5663</a>
                        </p>
                        <p class="mb-2">
                            <i class="fas fa-envelope"></i>
                            <a href="mailto:ohshocl@gmail.com">ohshocl@gmail.com</a>
                        </p>
                        <p class="mb-3">
                            <i class="fas fa-map-marker-alt"></i>
                            Salt Lake City, UT, USA
                        </p>
                    </div>
                    
                    <!-- Social Media Links -->
                    <div class="social-icons">
                        <a href="https://www.linkedin.com/company/organichyposolutions" target="_blank" aria-label="LinkedIn">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="https://www.facebook.com/organichyposolutions" target="_blank" aria-label="Facebook">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="https://www.instagram.com/organichyposolutions" target="_blank" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.tiktok.com/@organichyposolutions" target="_blank" aria-label="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p class="mb-0">&copy; 2025 Organic HypoSolutions. All rights reserved.</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <div class="footer-badges">
                            <span class="footer-badge">57 Products</span>
                            <span class="footer-badge">Family Owned & Operated Since 2025</span>
                            <span class="footer-badge">Secure Checkout</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Account Dashboard JavaScript -->
    <script>
        // Cart system integration
        const CART_STORAGE_KEY = 'ohsCart';
        let cartItems = JSON.parse(localStorage.getItem(CART_STORAGE_KEY) || '[]');
        
        // Update cart badge
        function updateCartBadge() {
            const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            const cartBadge = document.getElementById('cartBadge');
            
            if (cartBadge) {
                if (totalItems > 0) {
                    cartBadge.textContent = totalItems;
                    cartBadge.style.display = 'inline-block';
                } else {
                    cartBadge.style.display = 'none';
                }
            }
        }
        
        // Banner functionality
        function closeBanner() {
            const banner = document.getElementById('promoBanner');
            banner.style.transform = 'translateY(-100%)';
            setTimeout(() => {
                banner.style.display = 'none';
            }, 300);
            localStorage.setItem('promoBannerClosed', 'true');
        }
        
        // Check if banner should be shown
        function checkBanner() {
            const banner = document.getElementById('promoBanner');
            if (localStorage.getItem('promoBannerClosed') === 'true') {
                banner.style.display = 'none';
            }
        }
        
        // Listen for cart updates
        window.addEventListener('storage', function(e) {
            if (e.key === CART_STORAGE_KEY) {
                cartItems = JSON.parse(e.newValue || '[]');
                updateCartBadge();
            }
        });

        // Check authentication
        function checkAuth() {
            const user = JSON.parse(localStorage.getItem('ohsUser') || '{}');
            
            if (!user.email) {
                // Not logged in, redirect to login
                window.location.href = '../auth/login.html';
                return false;
            }
            
            // Display user info
            const customerName = user.email.split('@')[0];
            document.getElementById('customerName').textContent = customerName.charAt(0).toUpperCase() + customerName.slice(1);
            
            return true;
        }

        // Load section content
        function loadSection(section) {
            // Hide all sections
            document.querySelectorAll('[id$="Section"]').forEach(el => {
                el.style.display = 'none';
            });
            
            // Show selected section
            const sectionEl = document.getElementById(section + 'Section');
            if (sectionEl) {
                sectionEl.style.display = 'block';
                
                // Load content based on section
                loadSectionContent(section);
            }
            
            // Update active nav
            document.querySelectorAll('.sidebar-menu .nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.dataset.section === section) {
                    link.classList.add('active');
                }
            });
        }

        // Load section-specific content with API integration
        async function loadSectionContent(section) {
            const contentDiv = document.getElementById(section + 'Section');
            const accessToken = localStorage.getItem('shopifyAccessToken');
            
            switch(section) {
                case 'orders':
                    contentDiv.innerHTML = `
                        <h4 class="mb-4">
                            <i class="fas fa-box me-2"></i>Order History
                        </h4>
                        <div class="dashboard-card">
                            <p class="text-muted">Loading order history...</p>
                        </div>
                    `;
                    
                    // Load real orders from Shopify if authenticated
                    if (accessToken && window.currentCustomer) {
                        try {
                            const orders = window.currentCustomer.orders.edges;
                            let ordersHTML = '<div class="table-responsive"><table class="table"><thead><tr><th>Order #</th><th>Date</th><th>Status</th><th>Total</th><th>Action</th></tr></thead><tbody>';
                            
                            orders.forEach(({ node: order }) => {
                                const date = new Date(order.createdAt).toLocaleDateString();
                                const status = getOrderStatusClass(order.fulfillmentStatus);
                                ordersHTML += `
                                    <tr>
                                        <td><strong>#${order.orderNumber}</strong></td>
                                        <td>${date}</td>
                                        <td><span class="order-status ${status.class}">${status.text}</span></td>
                                        <td>${order.totalPrice.amount}</td>
                                        <td><button class="btn btn-sm btn-outline-primary">View Details</button></td>
                                    </tr>
                                `;
                            });
                            
                            ordersHTML += '</tbody></table></div>';
                            contentDiv.querySelector('.dashboard-card').innerHTML = ordersHTML;
                        } catch (error) {
                            console.error('Error loading orders:', error);
                        }
                    }
                    break;
                    
                case 'addresses':
                    contentDiv.innerHTML = `
                        <h4 class="mb-4">
                            <i class="fas fa-map-marker-alt me-2"></i>Saved Addresses
                        </h4>
                        <div class="dashboard-card">
                            <button class="btn btn-primary mb-3" onclick="addNewAddress()">
                                <i class="fas fa-plus me-2"></i>Add New Address
                            </button>
                            <div id="addressList">
                                <p class="text-muted">Loading addresses...</p>
                            </div>
                        </div>
                    `;
                    
                    // Load addresses from Shopify if authenticated
                    if (accessToken) {
                        loadCustomerAddresses(accessToken);
                    }
                    break;
                    
                case 'profile':
                    const customer = window.currentCustomer || {};
                    const legacyUser = JSON.parse(localStorage.getItem('ohsUser') || '{}');
                    const email = customer.email || legacyUser.email || '';
                    
                    contentDiv.innerHTML = `
                        <h4 class="mb-4">
                            <i class="fas fa-user-edit me-2"></i>Profile Settings
                        </h4>
                        <div class="dashboard-card">
                            <form id="profileForm">
                                <div class="mb-3">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" value="${email}" readonly>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">First Name</label>
                                        <input type="text" class="form-control" id="firstName" value="${customer.firstName || ''}" placeholder="Enter first name">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Last Name</label>
                                        <input type="text" class="form-control" id="lastName" value="${customer.lastName || ''}" placeholder="Enter last name">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="phone" value="${customer.phone || ''}" placeholder="(801) 555-0123">
                                </div>
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="acceptsMarketing" ${customer.acceptsMarketing ? 'checked' : ''}>
                                        <label class="form-check-label" for="acceptsMarketing">
                                            Receive marketing emails and promotions
                                        </label>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save me-2"></i>Save Changes
                                </button>
                            </form>
                        </div>
                    `;
                    
                    // Add form submission handler
                    document.getElementById('profileForm').addEventListener('submit', updateProfile);
                    break;
                    
                case 'security':
                    contentDiv.innerHTML = `
                        <h4 class="mb-4">
                            <i class="fas fa-shield-alt me-2"></i>Security Settings
                        </h4>
                        <div class="dashboard-card">
                            <h6>Password</h6>
                            <p class="text-muted">Password management is handled through Shopify's secure authentication system.</p>
                            <button class="btn btn-outline-primary mb-4" onclick="initiatePasswordReset()">
                                <i class="fas fa-key me-2"></i>Change Password
                            </button>
                            
                            <h6>Two-Factor Authentication</h6>
                            <p class="text-muted">Add an extra layer of security to your account.</p>
                            <button class="btn btn-outline-success" onclick="enable2FA()">
                                <i class="fas fa-mobile-alt me-2"></i>Enable 2FA
                            </button>
                            
                            <hr class="my-4">
                            
                            <h6>Active Sessions</h6>
                            <p class="text-muted">Manage your active login sessions across devices.</p>
                            <button class="btn btn-outline-danger btn-sm" onclick="logoutAllDevices()">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout All Other Devices
                            </button>
                        </div>
                    `;
                    break;
                    
                case 'preferences':
                    const prefs = window.currentCustomer || {};
                    contentDiv.innerHTML = `
                        <h4 class="mb-4">
                            <i class="fas fa-cog me-2"></i>Account Preferences
                        </h4>
                        <div class="dashboard-card">
                            <h6 class="mb-3">Email Notifications</h6>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" id="orderUpdates" checked>
                                <label class="form-check-label" for="orderUpdates">
                                    Order updates and shipping notifications
                                </label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" id="productNews" ${prefs.acceptsMarketing ? 'checked' : ''}>
                                <label class="form-check-label" for="productNews">
                                    New products and safety updates
                                </label>
                            </div>
                            <div class="form-check mb-4">
                                <input class="form-check-input" type="checkbox" id="promotions" ${prefs.acceptsMarketing ? 'checked' : ''}>
                                <label class="form-check-label" for="promotions">
                                    Promotional offers and discounts
                                </label>
                            </div>
                            
                            <button class="btn btn-primary mb-4" onclick="savePreferences()">
                                <i class="fas fa-save me-2"></i>Save Preferences
                            </button>
                            
                            <h6 class="mb-3">Account Type</h6>
                            <p class="text-muted">You currently have a Consumer account.</p>
                            <a href="../auth/register.html" class="btn btn-success">
                                <i class="fas fa-arrow-up me-2"></i>Upgrade to Business Account
                            </a>
                        </div>
                    `;
                    break;
            }
        }

        // Enhanced logout function with Shopify integration
        async function logout() {
            if (confirm('Are you sure you want to logout?')) {
                const shopifyToken = localStorage.getItem('shopifyAccessToken');
                const idToken = localStorage.getItem('shopifyIdToken');
                
                // Clear all authentication data
                localStorage.removeItem('ohsUser');
                localStorage.removeItem('shopifyAccessToken');
                localStorage.removeItem('shopifyRefreshToken');
                localStorage.removeItem('shopifyIdToken');
                
                // Track logout event
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'logout');
                }
                
                // If Shopify authenticated, logout from Shopify too
                if (shopifyToken && idToken) {
                    const logoutUrl = `https://shopify.com/authentication/${SHOP_ID}/logout?` +
                        `id_token_hint=${idToken}&` +
                        `post_logout_redirect_uri=${encodeURIComponent('https://organichyposolutions.com/auth/login.html')}`;
                    
                    window.location.href = logoutUrl;
                } else {
                    // Redirect to login for legacy accounts
                    window.location.href = '../auth/login.html';
                }
            }
        }
        
        // Additional API integration functions
        async function loadCustomerAddresses(accessToken) {
            try {
                const response = await fetch(`${API_BASE}/customer/addresses`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${accessToken}`
                    },
                    body: JSON.stringify({
                        query: `
                            query {
                                customer {
                                    addresses(first: 10) {
                                        edges {
                                            node {
                                                id
                                                address1
                                                address2
                                                city
                                                province
                                                zip
                                                country
                                                isDefault
                                            }
                                        }
                                    }
                                }
                            }
                        `
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    displayAddresses(data.data.customer.addresses.edges);
                }
            } catch (error) {
                console.error('Error loading addresses:', error);
            }
        }
        
        function displayAddresses(addresses) {
            const addressList = document.getElementById('addressList');
            if (addresses.length === 0) {
                addressList.innerHTML = '<p class="text-muted">No saved addresses yet.</p>';
                return;
            }
            
            let html = '<div class="row">';
            addresses.forEach(({ node: address }) => {
                html += `
                    <div class="col-md-6 mb-3">
                        <div class="card">
                            <div class="card-body">
                                ${address.isDefault ? '<span class="badge bg-primary mb-2">Default</span>' : ''}
                                <p class="mb-1">${address.address1}</p>
                                ${address.address2 ? `<p class="mb-1">${address.address2}</p>` : ''}
                                <p class="mb-1">${address.city}, ${address.province} ${address.zip}</p>
                                <p class="mb-2">${address.country}</p>
                                <button class="btn btn-sm btn-outline-primary me-2">Edit</button>
                                <button class="btn btn-sm btn-outline-danger">Delete</button>
                            </div>
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            addressList.innerHTML = html;
        }
        
        async function updateProfile(e) {
            e.preventDefault();
            // TODO: Implement profile update via Shopify Customer Account API
            alert('Profile update will be implemented with Shopify Customer Account API');
        }
        
        function initiatePasswordReset() {
            // TODO: Implement password reset flow
            alert('Password reset will redirect to Shopify secure password reset');
        }
        
        function enable2FA() {
            // TODO: Implement 2FA setup
            alert('2FA setup will be implemented through Shopify security settings');
        }
        
        function savePreferences() {
            // TODO: Save preferences via API
            alert('Preferences will be saved via Shopify Customer Account API');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize cart and Shopify systems first
            initializeEcommerce();
            
            // Check authentication
            const isAuthenticated = await checkAuth();
            if (!isAuthenticated) {
                return;
            }
            
            checkBanner();
            
            // Set up sidebar navigation
            document.querySelectorAll('.sidebar-menu .nav-link[data-section]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.dataset.section;
                    loadSection(section);
                });
            });
            
            // Load dashboard by default
            loadSection('dashboard');
            
            // Track page view
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    page_title: 'Customer Dashboard',
                    page_location: window.location.href
                });
            }
            
            // Listen for cart updates
            if (cart) {
                cart.on('update', updateCartBadgeFromCart);
            }
        });

        // Make functions globally available
        window.closeBanner = closeBanner;
        window.loadSection = loadSection;
        window.logout = logout;
        window.migrateAccount = migrateAccount;
        window.addNewAddress = function() {
            alert('Address management will open Shopify address editor');
        };
        window.logoutAllDevices = function() {
            if (confirm('This will log you out from all devices. Continue?')) {
                logout();
            }
        };
    </script>
</body>
</html>
